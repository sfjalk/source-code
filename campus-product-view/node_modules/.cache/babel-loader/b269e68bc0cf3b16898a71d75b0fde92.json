{"remainingRequest":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/babel-loader/lib/index.js!/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Downloads/campus-system/source code/campus-product-view/src/views/admin/ProductDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/src/views/admin/ProductDetail.vue","mtime":1758037360238},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/babel.config.js","mtime":1758037366702},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/cache-loader/dist/cjs.js","mtime":1767024828976},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/babel-loader/lib/index.js","mtime":1767024830795},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/cache-loader/dist/cjs.js","mtime":1767024828976},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/vue-loader/lib/index.js","mtime":1767024826361}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0VXNlckluZm8gfSBmcm9tICJAL3V0aWxzL3N0b3JhZ2UiOwppbXBvcnQgRXZhbHVhdGlvbnMgZnJvbSAiQC9jb21wb25lbnRzL0V2YWx1YXRpb25zIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEV2YWx1YXRpb25zCiAgfSwKICBuYW1lOiAnUHJvZHVjdERldGFpbCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3RJZDogbnVsbCwKICAgICAgcHJvZHVjdDoge30sCiAgICAgIGNvdmVyTGlzdDogW10sCiAgICAgIGNvdmVySW5kZXg6IDAsCiAgICAgIGNvdmVySXRlbTogbnVsbCwKICAgICAga2V5SW50ZXJ2YWw6IG51bGwsCiAgICAgIHNhdmVGbGFnOiBmYWxzZSwKICAgICAgZGlhbG9nUHJvZHVjdE9wZXJhaW9uOiBmYWxzZSwKICAgICAgYnV5TnVtYmVyOiAxLAogICAgICBkZXRhaWw6ICcnLAogICAgICB1c2VySW5mbzogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFBhcmFtKCk7CiAgICB0aGlzLnZpZXdPcGVyYXRpb24oKTsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmNsZWFyQmFubmVyKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB2aWV3T3BlcmF0aW9uKCkgewogICAgICBjb25zdCB1c2VySW5mbyA9IGdldFVzZXJJbmZvKCk7CiAgICAgIGlmICghdXNlckluZm8pIHJldHVybjsKICAgICAgdGhpcy51c2VySW5mbyA9IHVzZXJJbmZvOwogICAgICB0aGlzLiRheGlvcy5wb3N0KGAvaW50ZXJhY3Rpb24vdmlldy8ke3RoaXMucHJvZHVjdElkfWApLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCLmtY/op4jorrDlvZXlvILluLjvvJoiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGJ1eUNvbmZpcm0oKSB7CiAgICAgIGNvbnN0IG9yZGVyc0RUTyA9IHsKICAgICAgICBwcm9kdWN0SWQ6IHRoaXMucHJvZHVjdC5pZCwKICAgICAgICBidXlOdW1iZXI6IHRoaXMuYnV5TnVtYmVyLAogICAgICAgIGRldGFpbDogdGhpcy5kZXRhaWwKICAgICAgfTsKICAgICAgdGhpcy4kYXhpb3MucG9zdChgL3Byb2R1Y3QvYnV5UHJvZHVjdGAsIG9yZGVyc0RUTykudGhlbihyZXMgPT4gewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gcmVzOwogICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKGRhdGEubXNnKTsKICAgICAgICAgIHRoaXMuZmV0Y2hQcm9kdWN0KHRoaXMucHJvZHVjdC5pZCk7CiAgICAgICAgICB0aGlzLmNhbm5lbEJ1eSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIvljZXlpLHotKUnKTsKICAgICAgICBjb25zb2xlLmVycm9yKCLllYblk4HkuIvljZXlvILluLjvvJoiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGNhbm5lbEJ1eSgpIHsKICAgICAgdGhpcy5kaWFsb2dQcm9kdWN0T3BlcmFpb24gPSBmYWxzZTsKICAgICAgdGhpcy5idXlOdW1iZXIgPSAxOwogICAgICB0aGlzLmRldGFpbCA9ICcnOwogICAgfSwKICAgIGJ1eVByb2R1Y3QoKSB7CiAgICAgIHRoaXMuZGlhbG9nUHJvZHVjdE9wZXJhaW9uID0gdHJ1ZTsKICAgIH0sCiAgICBsaWtlUHJvZHVjdCgpIHsKICAgICAgdGhpcy4kYXhpb3MucG9zdChgL2ludGVyYWN0aW9uL2xpa2VQcm9kdWN0LyR7dGhpcy5wcm9kdWN0LmlkfWApLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBkYXRhCiAgICAgICAgfSA9IHJlczsKICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhkYXRhLm1zZyk7CiAgICAgICAgICB0aGlzLmZldGNoUHJvZHVjdCh0aGlzLnByb2R1Y3QuaWQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuWVhuWTgeaDs+imgeW8guW4uO+8miIsIGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgcXVlcnlTYXZlU3RhdHVzKCkgewogICAgICBjb25zdCB1c2VySW5mbyA9IGdldFVzZXJJbmZvKCk7CiAgICAgIGlmICghdXNlckluZm8pIHJldHVybjsKICAgICAgY29uc3QgaW50ZXJhY3Rpb25RdWVyeUR0byA9IHsKICAgICAgICB1c2VySWQ6IHVzZXJJbmZvLmlkLAogICAgICAgIHByb2R1Y3RJZDogdGhpcy5wcm9kdWN0LmlkLAogICAgICAgIHR5cGU6IDEKICAgICAgfTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2ludGVyYWN0aW9uL3F1ZXJ5JywgaW50ZXJhY3Rpb25RdWVyeUR0bykudGhlbihyZXMgPT4gewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gcmVzOwogICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5zYXZlRmxhZyA9IGRhdGEudG90YWwgIT09IDA7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcigi5pS26JeP54q25oCB5p+l6K+i5byC5bi477yaIiwgZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBzYXZlT3BlcmF0aW9uKCkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KGAvaW50ZXJhY3Rpb24vc2F2ZU9wZXJhdGlvbi8ke3RoaXMucHJvZHVjdC5pZH1gKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSByZXM7CiAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnNhdmVGbGFnID0gZGF0YS5kYXRhOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKGRhdGEubXNnKTsKICAgICAgICAgIHRoaXMuZmV0Y2hQcm9kdWN0KHRoaXMucHJvZHVjdC5pZCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcigi5pS26JeP5pON5L2c5byC5bi477yaIiwgZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBjbGVhckJhbm5lcigpIHsKICAgICAgaWYgKHRoaXMua2V5SW50ZXJ2YWwpIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMua2V5SW50ZXJ2YWwpOwogICAgICAgIHRoaXMua2V5SW50ZXJ2YWwgPSBudWxsOwogICAgICB9CiAgICB9LAogICAgc3RhcnRCYW5uZXIoKSB7CiAgICAgIHRoaXMua2V5SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgdGhpcy5jb3ZlckluZGV4ID0gKHRoaXMuY292ZXJJbmRleCArIDEpICUgdGhpcy5jb3Zlckxpc3QubGVuZ3RoOwogICAgICAgIHRoaXMuY292ZXJJdGVtID0gdGhpcy5jb3Zlckxpc3RbdGhpcy5jb3ZlckluZGV4XTsKICAgICAgfSwgNTAwMCk7CiAgICB9LAogICAgY292ZXJUb0xlZnQoKSB7CiAgICAgIHRoaXMuY292ZXJJbmRleCA9ICh0aGlzLmNvdmVySW5kZXggLSAxICsgdGhpcy5jb3Zlckxpc3QubGVuZ3RoKSAlIHRoaXMuY292ZXJMaXN0Lmxlbmd0aDsKICAgICAgdGhpcy5jb3Zlckl0ZW0gPSB0aGlzLmNvdmVyTGlzdFt0aGlzLmNvdmVySW5kZXhdOwogICAgfSwKICAgIGNvdmVyVG9SaWdodCgpIHsKICAgICAgdGhpcy5jb3ZlckluZGV4ID0gKHRoaXMuY292ZXJJbmRleCArIDEpICUgdGhpcy5jb3Zlckxpc3QubGVuZ3RoOwogICAgICB0aGlzLmNvdmVySXRlbSA9IHRoaXMuY292ZXJMaXN0W3RoaXMuY292ZXJJbmRleF07CiAgICB9LAogICAgY292ZXJTZWxlY3RlZChjb3Zlckl0ZW0sIGluZGV4KSB7CiAgICAgIHRoaXMuY292ZXJJdGVtID0gY292ZXJJdGVtOwogICAgICB0aGlzLmNvdmVySW5kZXggPSBpbmRleDsKICAgIH0sCiAgICBnZXRQYXJhbSgpIHsKICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLiRyb3V0ZS5xdWVyeTsKICAgICAgdGhpcy5wcm9kdWN0SWQgPSBOdW1iZXIocGFyYW0ucHJvZHVjdElkKTsKICAgICAgdGhpcy5mZXRjaFByb2R1Y3QodGhpcy5wcm9kdWN0SWQpOwogICAgfSwKICAgIGNvdmVyTGlzdFBhcnNlKHByb2R1Y3QpIHsKICAgICAgaWYgKCFwcm9kdWN0LmNvdmVyTGlzdCkgcmV0dXJuOwogICAgICB0aGlzLmNvdmVyTGlzdCA9IHByb2R1Y3QuY292ZXJMaXN0LnNwbGl0KCcsJyk7CiAgICAgIHRoaXMuY292ZXJJdGVtID0gdGhpcy5jb3Zlckxpc3RbMF07CiAgICAgIHRoaXMuc3RhcnRCYW5uZXIoKTsKICAgIH0sCiAgICBmZXRjaFByb2R1Y3QocHJvZHVjdElkKSB7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9wcm9kdWN0L3F1ZXJ5JywgewogICAgICAgIGlkOiBwcm9kdWN0SWQKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gcmVzOwogICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5wcm9kdWN0ID0gZGF0YS5kYXRhWzBdOwogICAgICAgICAgdGhpcy5jb3Zlckxpc3RQYXJzZSh0aGlzLnByb2R1Y3QpOwogICAgICAgICAgdGhpcy5xdWVyeVNhdmVTdGF0dXMoKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCLllYblk4Hmn6Xor6LlvILluLjvvJoiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["getUserInfo","Evaluations","components","name","data","productId","product","coverList","coverIndex","coverItem","keyInterval","saveFlag","dialogProductOperaion","buyNumber","detail","userInfo","created","getParam","viewOperation","beforeDestroy","clearBanner","methods","$axios","post","catch","error","console","buyConfirm","ordersDTO","id","then","res","code","$message","success","msg","fetchProduct","cannelBuy","buyProduct","likeProduct","info","querySaveStatus","interactionQueryDto","userId","type","total","saveOperation","clearInterval","startBanner","setInterval","length","coverToLeft","coverToRight","coverSelected","index","param","$route","query","Number","coverListParse","split"],"sources":["src/views/admin/ProductDetail.vue"],"sourcesContent":["<template>\r\n    <div class=\"product-detail\">\r\n      <!-- 商品主区域 -->\r\n      <div class=\"product-main\">\r\n        <!-- 商品图片展示区 -->\r\n        <div class=\"product-gallery\">\r\n          <!-- 缩略图列表 -->\r\n          <div class=\"thumbnail-list\">\r\n            <div\r\n              v-for=\"(coverItem, index) in coverList\"\r\n              :key=\"index\"\r\n              class=\"thumbnail-item\"\r\n              :class=\"{ active: coverIndex === index }\"\r\n              @click=\"coverSelected(coverItem, index)\"\r\n            >\r\n              <img :src=\"coverItem\" alt=\"商品缩略图\">\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 主图展示 -->\r\n          <div class=\"main-image-container\">\r\n            <transition name=\"fade\" mode=\"out-in\">\r\n              <img \r\n                :key=\"coverItem\"\r\n                :src=\"coverItem\" \r\n                alt=\"商品主图\"\r\n                class=\"main-image\"\r\n              >\r\n            </transition>\r\n            \r\n            <!-- 导航箭头 -->\r\n            <div class=\"image-nav\">\r\n              <div class=\"nav-arrow left\" @click=\"coverToLeft\">\r\n                <i class=\"el-icon-arrow-left\"></i>\r\n              </div>\r\n              <div class=\"nav-arrow right\" @click=\"coverToRight\">\r\n                <i class=\"el-icon-arrow-right\"></i>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- 砍价标签 -->\r\n            <div class=\"bargain-tag\" v-if=\"product.isBargain\">\r\n              支持砍价\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- 商品信息区 -->\r\n        <div class=\"product-info\">\r\n          <h1 class=\"product-title\">{{ product.name }}</h1>\r\n          \r\n          <!-- 价格信息 -->\r\n          <div class=\"price-section\">\r\n            <span class=\"price\">\r\n              <span class=\"symbol\">¥</span>\r\n              <span class=\"value\">{{ product.price }}</span>\r\n            </span>\r\n            \r\n            <div class=\"meta-info\">\r\n              <span class=\"category\">{{ product.categoryName }}</span>\r\n              <span class=\"condition\">{{ product.oldLevel }}成新</span>\r\n              <span class=\"inventory\">库存 {{ product.inventory }}件</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 用户互动数据 -->\r\n          <div class=\"interaction-stats\">\r\n            <div class=\"stat-item\">\r\n              <i class=\"el-icon-view\"></i>\r\n              <span>{{ product.viewNumber }}人浏览</span>\r\n            </div>\r\n            <div class=\"stat-item\">\r\n              <i class=\"el-icon-star-off\"></i>\r\n              <span>{{ product.saveNumber }}人收藏</span>\r\n            </div>\r\n            <div class=\"stat-item\">\r\n              <i class=\"el-icon-sell\"></i>\r\n              <span>{{ product.likeNumber }}人想要</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 卖家信息 -->\r\n          <div class=\"seller-info\">\r\n            <el-avatar :src=\"product.userAvatar\" size=\"medium\"></el-avatar>\r\n            <span class=\"seller-name\">{{ product.userName }}</span>\r\n          </div>\r\n          \r\n          <!-- 操作按钮 -->\r\n          <div class=\"action-buttons\">\r\n            <el-button \r\n              type=\"warning\" \r\n              icon=\"el-icon-star-off\" \r\n              @click=\"saveOperation\"\r\n              :class=\"{ 'is-saved': saveFlag }\"\r\n            >\r\n              {{ saveFlag ? '已收藏' : '收藏' }}\r\n            </el-button>\r\n            \r\n            <el-button \r\n              type=\"primary\" \r\n              icon=\"el-icon-sell\" \r\n              @click=\"likeProduct\"\r\n            >\r\n              我想要\r\n            </el-button>\r\n            \r\n            <el-button \r\n              type=\"danger\" \r\n              icon=\"el-icon-shopping-cart-2\" \r\n              @click=\"buyProduct\"\r\n            >\r\n              立即购买\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 商品详情 -->\r\n      <div class=\"product-detail-content\">\r\n        <h2 class=\"section-title\">商品详情</h2>\r\n        <div class=\"detail-html\" v-html=\"product.detail\"></div>\r\n      </div>\r\n      \r\n      <!-- 商品评价 -->\r\n      <div class=\"product-reviews\" v-if=\"userInfo !== null\">\r\n        <h2 class=\"section-title\">商品评价</h2>\r\n        <Evaluations contentType=\"PRODUCT\" :contentId=\"product.id\" />\r\n      </div>\r\n      \r\n      <!-- 购买对话框 -->\r\n      <el-dialog \r\n        :visible.sync=\"dialogProductOperaion\" \r\n        title=\"确认订单\"\r\n        width=\"500px\"\r\n        center\r\n      >\r\n        <div class=\"order-dialog\">\r\n          <div class=\"product-info\">\r\n            <div class=\"price-section\">\r\n              <span class=\"price\">\r\n                <span class=\"symbol\">¥</span>\r\n                <span class=\"value\">{{ product.price }}</span>\r\n              </span>\r\n              <span class=\"inventory\">库存 {{ product.inventory }}件</span>\r\n            </div>\r\n            <h3 class=\"product-title\">{{ product.name }}</h3>\r\n            <div class=\"seller-info\">\r\n              <el-avatar :src=\"product.userAvatar\" size=\"small\"></el-avatar>\r\n              <span class=\"seller-name\">{{ product.userName }}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"order-form\">\r\n            <div class=\"form-item\">\r\n              <label>购买数量</label>\r\n              <el-input-number \r\n                v-model=\"buyNumber\" \r\n                :min=\"1\" \r\n                :max=\"product.inventory\"\r\n                controls-position=\"right\"\r\n              ></el-input-number>\r\n            </div>\r\n            \r\n            <div class=\"form-item\">\r\n              <label>备注信息</label>\r\n              <el-input\r\n                type=\"textarea\"\r\n                :rows=\"3\"\r\n                placeholder=\"请输入备注信息（选填）\"\r\n                v-model=\"detail\"\r\n              ></el-input>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"cannelBuy\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"buyConfirm\">确认下单</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { getUserInfo } from \"@/utils/storage\"\r\n  import Evaluations from \"@/components/Evaluations\"\r\n  \r\n  export default {\r\n    components: { Evaluations },\r\n    name: 'ProductDetail',\r\n    data() {\r\n      return {\r\n        productId: null,\r\n        product: {},\r\n        coverList: [],\r\n        coverIndex: 0,\r\n        coverItem: null,\r\n        keyInterval: null,\r\n        saveFlag: false,\r\n        dialogProductOperaion: false,\r\n        buyNumber: 1,\r\n        detail: '',\r\n        userInfo: null\r\n      }\r\n    },\r\n    created() {\r\n      this.getParam();\r\n      this.viewOperation();\r\n    },\r\n    beforeDestroy() {\r\n      this.clearBanner();\r\n    },\r\n    methods: {\r\n\r\n      viewOperation() {\r\n        const userInfo = getUserInfo();\r\n        if (!userInfo) return;\r\n        \r\n        this.userInfo = userInfo;\r\n        this.$axios.post(`/interaction/view/${this.productId}`).catch(error => {\r\n          console.error(\"浏览记录异常：\", error);\r\n        })\r\n      },\r\n      \r\n      buyConfirm() {\r\n        const ordersDTO = {\r\n          productId: this.product.id,\r\n          buyNumber: this.buyNumber,\r\n          detail: this.detail\r\n        }\r\n        \r\n        this.$axios.post(`/product/buyProduct`, ordersDTO).then(res => {\r\n          const { data } = res;\r\n          if (data.code === 200) {\r\n            this.$message.success(data.msg);\r\n            this.fetchProduct(this.product.id);\r\n            this.cannelBuy();\r\n          } else {\r\n            this.$message.error(data.msg);\r\n          }\r\n        }).catch(error => {\r\n          this.$message.error('下单失败');\r\n          console.error(\"商品下单异常：\", error);\r\n        })\r\n      },\r\n      \r\n      cannelBuy() {\r\n        this.dialogProductOperaion = false;\r\n        this.buyNumber = 1;\r\n        this.detail = '';\r\n      },\r\n      \r\n      buyProduct() {\r\n        this.dialogProductOperaion = true;\r\n      },\r\n      \r\n      likeProduct() {\r\n        this.$axios.post(`/interaction/likeProduct/${this.product.id}`).then(res => {\r\n          const { data } = res;\r\n          if (data.code === 200) {\r\n            this.$message.success(data.msg);\r\n            this.fetchProduct(this.product.id);\r\n          } else {\r\n            this.$message.info(data.msg);\r\n          }\r\n        }).catch(error => {\r\n          console.error(\"商品想要异常：\", error);\r\n        })\r\n      },\r\n      \r\n      querySaveStatus() {\r\n        const userInfo = getUserInfo();\r\n        if (!userInfo) return;\r\n        \r\n        const interactionQueryDto = {\r\n          userId: userInfo.id,\r\n          productId: this.product.id,\r\n          type: 1\r\n        };\r\n        \r\n        this.$axios.post('/interaction/query', interactionQueryDto).then(res => {\r\n          const { data } = res;\r\n          if (data.code === 200) {\r\n            this.saveFlag = data.total !== 0;\r\n          }\r\n        }).catch(error => {\r\n          console.error(\"收藏状态查询异常：\", error);\r\n        })\r\n      },\r\n      \r\n      saveOperation() {\r\n        this.$axios.post(`/interaction/saveOperation/${this.product.id}`).then(res => {\r\n          const { data } = res;\r\n          if (data.code === 200) {\r\n            this.saveFlag = data.data;\r\n            this.$message.success(data.msg);\r\n            this.fetchProduct(this.product.id);\r\n          }\r\n        }).catch(error => {\r\n          console.error(\"收藏操作异常：\", error);\r\n        })\r\n      },\r\n      \r\n      clearBanner() {\r\n        if (this.keyInterval) {\r\n          clearInterval(this.keyInterval);\r\n          this.keyInterval = null;\r\n        }\r\n      },\r\n      \r\n      startBanner() {\r\n        this.keyInterval = setInterval(() => {\r\n          this.coverIndex = (this.coverIndex + 1) % this.coverList.length;\r\n          this.coverItem = this.coverList[this.coverIndex];\r\n        }, 5000);\r\n      },\r\n      \r\n      coverToLeft() {\r\n        this.coverIndex = (this.coverIndex - 1 + this.coverList.length) % this.coverList.length;\r\n        this.coverItem = this.coverList[this.coverIndex];\r\n      },\r\n      \r\n      coverToRight() {\r\n        this.coverIndex = (this.coverIndex + 1) % this.coverList.length;\r\n        this.coverItem = this.coverList[this.coverIndex];\r\n      },\r\n      \r\n      coverSelected(coverItem, index) {\r\n        this.coverItem = coverItem;\r\n        this.coverIndex = index;\r\n      },\r\n      \r\n      getParam() {\r\n        const param = this.$route.query;\r\n        this.productId = Number(param.productId);\r\n        this.fetchProduct(this.productId);\r\n      },\r\n      \r\n      coverListParse(product) {\r\n        if (!product.coverList) return;\r\n        \r\n        this.coverList = product.coverList.split(',');\r\n        this.coverItem = this.coverList[0];\r\n        this.startBanner();\r\n      },\r\n      \r\n      fetchProduct(productId) {\r\n        this.$axios.post('/product/query', { id: productId }).then(res => {\r\n          const { data } = res;\r\n          if (data.code === 200) {\r\n            this.product = data.data[0];\r\n            this.coverListParse(this.product);\r\n            this.querySaveStatus();\r\n          }\r\n        }).catch(error => {\r\n          console.error(\"商品查询异常：\", error);\r\n        })\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped lang=\"scss\">\r\n  .product-detail {\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n    padding: 20px;\r\n    \r\n    .product-main {\r\n      display: flex;\r\n      gap: 40px;\r\n      margin-bottom: 40px;\r\n      \r\n      .product-gallery {\r\n        width: 480px;\r\n        display: flex;\r\n        gap: 20px;\r\n        \r\n        .thumbnail-list {\r\n          width: 80px;\r\n          \r\n          .thumbnail-item {\r\n            width: 80px;\r\n            height: 80px;\r\n            margin-bottom: 10px;\r\n            border: 1px solid #e5e5e5;\r\n            border-radius: 4px;\r\n            overflow: hidden;\r\n            cursor: pointer;\r\n            transition: all 0.3s;\r\n            \r\n            &.active {\r\n              border-color: #ff6b6b;\r\n            }\r\n            \r\n            &:hover {\r\n              border-color: #ff6b6b;\r\n            }\r\n            \r\n            img {\r\n              width: 100%;\r\n              height: 100%;\r\n              object-fit: cover;\r\n            }\r\n          }\r\n        }\r\n        \r\n        .main-image-container {\r\n          flex: 1;\r\n          position: relative;\r\n          \r\n          .main-image {\r\n            width: 100%;\r\n            height: 400px;\r\n            object-fit: contain;\r\n            border-radius: 4px;\r\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n          }\r\n          \r\n          .image-nav {\r\n            position: absolute;\r\n            top: 50%;\r\n            left: 0;\r\n            right: 0;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            transform: translateY(-50%);\r\n            \r\n            .nav-arrow {\r\n              width: 40px;\r\n              height: 40px;\r\n              background-color: rgba(255, 255, 255, 0.8);\r\n              border-radius: 50%;\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n              cursor: pointer;\r\n              transition: all 0.3s;\r\n              \r\n              &:hover {\r\n                background-color: rgba(255, 107, 107, 0.8);\r\n                color: white;\r\n              }\r\n              \r\n              i {\r\n                font-size: 18px;\r\n                font-weight: bold;\r\n              }\r\n            }\r\n          }\r\n          \r\n          .bargain-tag {\r\n            position: absolute;\r\n            top: 10px;\r\n            left: 10px;\r\n            background-color: #ffcc00;\r\n            color: #333;\r\n            font-size: 12px;\r\n            font-weight: bold;\r\n            padding: 4px 10px;\r\n            border-radius: 12px;\r\n            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n          }\r\n        }\r\n      }\r\n      \r\n      .product-info {\r\n        flex: 1;\r\n        \r\n        .product-title {\r\n          font-size: 24px;\r\n          color: #333;\r\n          margin-bottom: 20px;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .price-section {\r\n          margin-bottom: 20px;\r\n          padding-bottom: 20px;\r\n          border-bottom: 1px solid #f0f0f0;\r\n          \r\n          .price {\r\n            display: block;\r\n            margin-bottom: 10px;\r\n            \r\n            .symbol {\r\n              font-size: 16px;\r\n            }\r\n            \r\n            .value {\r\n              font-size: 28px;\r\n              font-weight: bold;\r\n              color: #ff4f24;\r\n            }\r\n          }\r\n          \r\n          .meta-info {\r\n            display: flex;\r\n            gap: 15px;\r\n            font-size: 14px;\r\n            color: #666;\r\n            \r\n            span {\r\n              position: relative;\r\n              \r\n              &:not(:last-child)::after {\r\n                content: \"\";\r\n                position: absolute;\r\n                right: -8px;\r\n                top: 50%;\r\n                transform: translateY(-50%);\r\n                width: 4px;\r\n                height: 4px;\r\n                background-color: #999;\r\n                border-radius: 50%;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        \r\n        .interaction-stats {\r\n          display: flex;\r\n          gap: 20px;\r\n          margin-bottom: 20px;\r\n          \r\n          .stat-item {\r\n            display: flex;\r\n            align-items: center;\r\n            font-size: 14px;\r\n            color: #666;\r\n            \r\n            i {\r\n              margin-right: 5px;\r\n              font-size: 16px;\r\n            }\r\n          }\r\n        }\r\n        \r\n        .seller-info {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n          margin-bottom: 30px;\r\n          \r\n          .seller-name {\r\n            font-size: 14px;\r\n            color: #333;\r\n          }\r\n        }\r\n        \r\n        .action-buttons {\r\n          display: flex;\r\n          gap: 15px;\r\n          \r\n          .el-button {\r\n            flex: 1;\r\n            height: 46px;\r\n            font-size: 16px;\r\n            \r\n            &.is-saved {\r\n              background-color: #67c23a;\r\n              border-color: #67c23a;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    .product-detail-content,\r\n    .product-reviews {\r\n      background-color: #fff;\r\n      border-radius: 8px;\r\n      padding: 20px;\r\n      margin-bottom: 20px;\r\n      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\r\n      \r\n      .section-title {\r\n        font-size: 18px;\r\n        color: #333;\r\n        margin-bottom: 20px;\r\n        padding-bottom: 10px;\r\n        border-bottom: 1px solid #f0f0f0;\r\n      }\r\n      \r\n      .detail-html {\r\n        line-height: 1.6;\r\n        \r\n        img {\r\n          max-width: 100%;\r\n          height: auto;\r\n        }\r\n      }\r\n    }\r\n    \r\n    .order-dialog {\r\n      .product-info {\r\n        margin-bottom: 20px;\r\n        padding-bottom: 20px;\r\n        border-bottom: 1px solid #f0f0f0;\r\n        \r\n        .product-title {\r\n          font-size: 16px;\r\n          margin: 10px 0;\r\n        }\r\n        \r\n        .seller-info {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          margin-top: 10px;\r\n          \r\n          .seller-name {\r\n            font-size: 14px;\r\n            color: #666;\r\n          }\r\n        }\r\n      }\r\n      \r\n      .form-item {\r\n        margin-bottom: 20px;\r\n        \r\n        label {\r\n          display: block;\r\n          margin-bottom: 8px;\r\n          font-size: 14px;\r\n          color: #666;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  .fade-enter-active, .fade-leave-active {\r\n    transition: opacity 0.5s;\r\n  }\r\n  .fade-enter, .fade-leave-to {\r\n    opacity: 0;\r\n  }\r\n  </style>"],"mappings":"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","ignoreList":[]}]}