{"remainingRequest":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Downloads/campus-system/source code/campus-product-view/src/views/admin/User.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/src/views/admin/User.vue","mtime":1758037359905},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/cache-loader/dist/cjs.js","mtime":1767024828976},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/babel-loader/lib/index.js","mtime":1767024830795},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/cache-loader/dist/cjs.js","mtime":1767024828976},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/vue-loader/lib/index.js","mtime":1767024826361}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHVzZXJQd2Q6ICcnLA0KICAgICAgdXNlckF2YXRhcjogJycsDQogICAgICBkYXRhOiB7fSwNCiAgICAgIGZpbHRlclRleHQ6ICcnLA0KICAgICAgaXNBZG1pbjogZmFsc2UsDQogICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgIHBhZ2VTaXplOiAxMiwNCiAgICAgIHRvdGFsSXRlbXM6IDAsDQogICAgICBkaWFsb2dTdGF0dXNPcGVyYXRpb246IGZhbHNlLA0KICAgICAgZGlhbG9nVXNlck9wZXJhaW9uOiBmYWxzZSwNCiAgICAgIGlzT3BlcmF0aW9uOiBmYWxzZSwNCiAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICBzZWFyY2hUaW1lOiBbXSwNCiAgICAgIHNlbGVjdGVkUm93czogW10sDQogICAgICBzdGF0dXM6IG51bGwsDQogICAgICB1c2VyUXVlcnlEdG86IHt9LA0KICAgICAgbG9naW5TdGF0dUxpc3Q6IFsNCiAgICAgICAgeyB2YWx1ZTogbnVsbCwgbGFiZWw6ICflhajpg6gnIH0sDQogICAgICAgIHsgdmFsdWU6IDAsIGxhYmVsOiAn5q2j5bi4JyB9LA0KICAgICAgICB7IHZhbHVlOiAxLCBsYWJlbDogJ+WwgeWPtycgfQ0KICAgICAgXSwNCiAgICAgIHdvcmRTdGF0dUxpc3Q6IFsNCiAgICAgICAgeyB2YWx1ZTogbnVsbCwgbGFiZWw6ICflhajpg6gnIH0sDQogICAgICAgIHsgdmFsdWU6IDAsIGxhYmVsOiAn5q2j5bi4JyB9LA0KICAgICAgICB7IHZhbHVlOiAxLCBsYWJlbDogJ+emgeiogCcgfQ0KICAgICAgXSwNCiAgICAgIHJvbGVzTGlzdDogWw0KICAgICAgICB7IHZhbHVlOiBudWxsLCBsYWJlbDogJ+WFqOmDqCcgfSwNCiAgICAgICAgeyB2YWx1ZTogMiwgbGFiZWw6ICfnlKjmiLcnIH0sDQogICAgICAgIHsgdmFsdWU6IDEsIGxhYmVsOiAn566h55CG5ZGYJyB9DQogICAgICBdLA0KICAgICAgcGlja2VyT3B0aW9uczogew0KICAgICAgICBkaXNhYmxlZERhdGUodGltZSkgew0KICAgICAgICAgIHJldHVybiB0aW1lLmdldFRpbWUoKSA+IERhdGUubm93KCk7DQogICAgICAgIH0sDQogICAgICAgIHNob3J0Y3V0czogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDlkagnLA0KICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsNCiAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA3KTsNCiAgICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDkuKrmnIgnLA0KICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsNCiAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiAzMCk7DQogICAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiJ5Liq5pyIJywNCiAgICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7DQogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogOTApOw0KICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgICAgfQ0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5mZXRjaEZyZXNoRGF0YSgpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZm9ybWF0VGltZSh0aW1lKSB7DQogICAgICBpZiAoIXRpbWUpIHJldHVybiAnJzsNCiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lKTsNCiAgICAgIHJldHVybiBgJHtkYXRlLmdldEZ1bGxZZWFyKCl9LSR7KGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0tJHtkYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDsNCiAgICB9LA0KDQogICAgY2FubmVsKCkgew0KICAgICAgdGhpcy5kYXRhID0ge307DQogICAgICB0aGlzLnVzZXJBdmF0YXIgPSAnJzsNCiAgICAgIHRoaXMudXNlclB3ZCA9ICcnOw0KICAgICAgdGhpcy5kaWFsb2dVc2VyT3BlcmFpb24gPSBmYWxzZTsNCiAgICAgIHRoaXMuZGlhbG9nU3RhdHVzT3BlcmF0aW9uID0gZmFsc2U7DQogICAgICB0aGlzLmlzT3BlcmF0aW9uID0gZmFsc2U7DQogICAgfSwNCg0KICAgIGNvbWZpcm1TdGF0dXMoKSB7DQogICAgICBjb25zdCB1c2VyVXBkYXRlRHRvID0gew0KICAgICAgICBpZDogdGhpcy5kYXRhLmlkLA0KICAgICAgICBpc0xvZ2luOiB0aGlzLmRhdGEuaXNMb2dpbiwNCiAgICAgICAgdXNlclJvbGU6IHRoaXMuaXNBZG1pbiA/IDEgOiAyLA0KICAgICAgICBpc1dvcmQ6IHRoaXMuZGF0YS5pc1dvcmQNCiAgICAgIH07DQoNCiAgICAgIHRoaXMuJGF4aW9zLnB1dChgL3VzZXIvYmFja1VwZGF0ZWAsIHVzZXJVcGRhdGVEdG8pDQogICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnirbmgIHkv67mlLnmiJDlip8nKTsNCiAgICAgICAgICAgIHRoaXMuY2FubmVsKCk7DQogICAgICAgICAgICB0aGlzLmZldGNoRnJlc2hEYXRhKCk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnIHx8ICfnirbmgIHkv67mlLnlpLHotKUnKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgY29uc29sZS5lcnJvcigi5L+u5pS554q25oCB5byC5bi4OiIsIGVycm9yKTsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnirbmgIHkv67mlLnlvILluLgnKTsNCiAgICAgICAgfSk7DQogICAgfSwNCg0KICAgIGhhbmRsZVN0YXR1cyhkYXRhKSB7DQogICAgICB0aGlzLmlzQWRtaW4gPSBkYXRhLnVzZXJSb2xlID09PSAxOw0KICAgICAgdGhpcy5kaWFsb2dTdGF0dXNPcGVyYXRpb24gPSB0cnVlOw0KICAgICAgdGhpcy5kYXRhID0geyAuLi5kYXRhIH07DQogICAgfSwNCg0KICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzLCBmaWxlKSB7DQogICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICB0aGlzLnVzZXJBdmF0YXIgPSByZXMuZGF0YTsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflpLTlg4/kuIrkvKDmiJDlip8nKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WktOWDj+S4iuS8oOWksei0pScpOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBhc3luYyBiYXRjaERlbGV0ZSgpIHsNCiAgICAgIGlmICghdGhpcy5zZWxlY3RlZFJvd3MubGVuZ3RoKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36Iez5bCR6YCJ5oup5LiA5p2h5pWw5o2uJyk7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgY29uZmlybWVkID0gYXdhaXQgdGhpcy4kY29uZmlybSgNCiAgICAgICAgICBg56Gu6K6k5Yig6Zmk6YCJ5Lit55qEJHt0aGlzLnNlbGVjdGVkUm93cy5sZW5ndGh95p2h55So5oi35pWw5o2u5ZCX77yf5Yig6Zmk5ZCO5LiN5Y+v5oGi5aSN77yBYCwNCiAgICAgICAgICAn5Yig6Zmk56Gu6K6kJywNCiAgICAgICAgICB7DQogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgICAgIH0NCiAgICAgICAgKTsNCg0KICAgICAgICBpZiAoY29uZmlybWVkKSB7DQogICAgICAgICAgY29uc3QgaWRzID0gdGhpcy5zZWxlY3RlZFJvd3MubWFwKGl0ZW0gPT4gaXRlbS5pZCk7DQogICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KGAvdXNlci9iYXRjaERlbGV0ZWAsIGlkcyk7DQoNCiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7DQogICAgICAgICAgICB0aGlzLmZldGNoRnJlc2hEYXRhKCk7DQogICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93cyA9IFtdOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubXNnIHx8ICfliKDpmaTlpLHotKUnKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIoOmZpOeUqOaIt+W8guW4uDonLCBlcnJvcik7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOaTjeS9nOW8guW4uCcpOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBhc3luYyB1cGRhdGVPcGVyYXRpb24oKSB7DQogICAgICBpZiAodGhpcy51c2VyUHdkICE9PSAnJykgew0KICAgICAgICBjb25zdCBwd2QgPSB0aGlzLiRtZDUodGhpcy4kbWQ1KHRoaXMudXNlclB3ZCkpOw0KICAgICAgICB0aGlzLmRhdGEudXNlclB3ZCA9IHB3ZDsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZGF0YS51c2VyUHdkID0gbnVsbDsNCiAgICAgIH0NCiAgICAgIHRoaXMuZGF0YS51c2VyQXZhdGFyID0gdGhpcy51c2VyQXZhdGFyOw0KDQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGF4aW9zLnB1dCgnL3VzZXIvYmFja1VwZGF0ZScsIHRoaXMuZGF0YSk7DQogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn55So5oi35L+h5oGv5L+u5pS55oiQ5YqfJyk7DQogICAgICAgICAgdGhpcy5jYW5uZWwoKTsNCiAgICAgICAgICB0aGlzLmZldGNoRnJlc2hEYXRhKCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwb25zZS5kYXRhLm1zZyB8fCAn5L+u5pS55aSx6LSlJyk7DQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+S/ruaUueWHuumUmTonLCBlcnJvcik7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S/ruaUueW8guW4uCcpOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBhc3luYyBhZGRPcGVyYXRpb24oKSB7DQogICAgICBpZiAodGhpcy51c2VyUHdkICE9PSAnJykgew0KICAgICAgICB0aGlzLmRhdGEudXNlclB3ZCA9IHRoaXMuJG1kNSh0aGlzLiRtZDUodGhpcy51c2VyUHdkKSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmRhdGEudXNlclB3ZCA9IG51bGw7DQogICAgICB9DQogICAgICB0aGlzLmRhdGEudXNlckF2YXRhciA9IHRoaXMudXNlckF2YXRhcjsNCg0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KCcvdXNlci9pbnNlcnQnLCB0aGlzLmRhdGEpOw0KICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+eUqOaIt+aWsOWinuaIkOWKnycpOw0KICAgICAgICAgIHRoaXMuY2FubmVsKCk7DQogICAgICAgICAgdGhpcy5mZXRjaEZyZXNoRGF0YSgpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5tc2cgfHwgJ+aWsOWinuWksei0pScpOw0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCfkv6Hmga/mlrDlop7lh7rplJk6JywgZXJyb3IpOw0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmj5DkuqTlpLHotKXvvIzor7fnqI3lkI7lho3or5XvvIEnKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgYXN5bmMgZmV0Y2hGcmVzaERhdGEoKSB7DQogICAgICB0cnkgew0KICAgICAgICBsZXQgc3RhcnRUaW1lID0gJyc7DQogICAgICAgIGxldCBlbmRUaW1lID0gJyc7DQogICAgICAgIGlmICh0aGlzLnNlYXJjaFRpbWUgJiYgdGhpcy5zZWFyY2hUaW1lLmxlbmd0aCA9PT0gMikgew0KICAgICAgICAgIHN0YXJ0VGltZSA9IGAke3RoaXMuc2VhcmNoVGltZVswXX1UMDA6MDA6MDBgOw0KICAgICAgICAgIGVuZFRpbWUgPSBgJHt0aGlzLnNlYXJjaFRpbWVbMV19VDIzOjU5OjU5YDsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnN0IHBhcmFtcyA9IHsNCiAgICAgICAgICBjdXJyZW50OiB0aGlzLmN1cnJlbnRQYWdlLA0KICAgICAgICAgIHNpemU6IHRoaXMucGFnZVNpemUsDQogICAgICAgICAga2V5OiB0aGlzLmZpbHRlclRleHQsDQogICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsDQogICAgICAgICAgZW5kVGltZTogZW5kVGltZSwNCiAgICAgICAgICAuLi50aGlzLnVzZXJRdWVyeUR0bw0KICAgICAgICB9Ow0KDQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgnL3VzZXIvcXVlcnknLCBwYXJhbXMpOw0KICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHJlc3BvbnNlOw0KDQogICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gZGF0YS5kYXRhOw0KICAgICAgICAgIHRoaXMudG90YWxJdGVtcyA9IGRhdGEudG90YWw7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZyB8fCAn5p+l6K+i5aSx6LSlJyk7DQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+afpeivoueUqOaIt+S/oeaBr+W8guW4uDonLCBlcnJvcik7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+afpeivouaTjeS9nOW8guW4uCcpOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBhZGQoKSB7DQogICAgICB0aGlzLmRpYWxvZ1VzZXJPcGVyYWlvbiA9IHRydWU7DQogICAgICB0aGlzLmlzT3BlcmF0aW9uID0gZmFsc2U7DQogICAgICB0aGlzLmRhdGEgPSB7fTsNCiAgICAgIHRoaXMudXNlckF2YXRhciA9ICcnOw0KICAgICAgdGhpcy51c2VyUHdkID0gJyc7DQogICAgfSwNCg0KICAgIGhhbmRsZUZpbHRlcigpIHsNCiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOw0KICAgICAgdGhpcy5mZXRjaEZyZXNoRGF0YSgpOw0KICAgIH0sDQoNCiAgICBoYW5kbGVGaWx0ZXJDbGVhcigpIHsNCiAgICAgIHRoaXMuZmlsdGVyVGV4dCA9ICcnOw0KICAgICAgdGhpcy5oYW5kbGVGaWx0ZXIoKTsNCiAgICB9LA0KDQogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7DQogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsNCiAgICAgIHRoaXMuZmV0Y2hGcmVzaERhdGEoKTsNCiAgICB9LA0KDQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7DQogICAgICB0aGlzLmZldGNoRnJlc2hEYXRhKCk7DQogICAgfSwNCg0KICAgIGhhbmRsZUVkaXQocm93KSB7DQogICAgICB0aGlzLmRpYWxvZ1VzZXJPcGVyYWlvbiA9IHRydWU7DQogICAgICB0aGlzLmlzT3BlcmF0aW9uID0gdHJ1ZTsNCiAgICAgIHRoaXMudXNlckF2YXRhciA9IHJvdy51c2VyQXZhdGFyOw0KICAgICAgdGhpcy5kYXRhID0geyAuLi5yb3cgfTsNCiAgICAgIHRoaXMudXNlclB3ZCA9ICcnOw0KICAgIH0sDQoNCiAgICBoYW5kbGVEZWxldGUocm93KSB7DQogICAgICB0aGlzLnNlbGVjdGVkUm93cyA9IFtyb3ddOw0KICAgICAgdGhpcy5iYXRjaERlbGV0ZSgpOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["User.vue"],"names":[],"mappings":";AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n  <div class=\"user-management-container\">\r\n    <!-- 搜索卡片 -->\r\n    <el-card class=\"search-card\" shadow=\"never\">\r\n      <div class=\"search-content\">\r\n        <el-select v-model=\"userQueryDto.isLogin\" placeholder=\"登录状态\" size=\"medium\"\r\n          style=\"width: 120px; margin-right: 12px;\" @change=\"fetchFreshData\" clearable>\r\n          <el-option v-for=\"item in loginStatuList\" :key=\"item.value\" :label=\"item.label\"\r\n            :value=\"item.value\"></el-option>\r\n        </el-select>\r\n\r\n        <el-select v-model=\"userQueryDto.isWord\" placeholder=\"禁言状态\" size=\"medium\"\r\n          style=\"width: 120px; margin-right: 12px;\" @change=\"fetchFreshData\" clearable>\r\n          <el-option v-for=\"item in wordStatuList\" :key=\"item.value\" :label=\"item.label\"\r\n            :value=\"item.value\"></el-option>\r\n        </el-select>\r\n\r\n        <el-date-picker v-model=\"searchTime\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"注册开始日期\"\r\n          end-placeholder=\"注册结束日期\" size=\"medium\" style=\"width: 360px; margin-right: 12px;\" @change=\"fetchFreshData\"\r\n          value-format=\"yyyy-MM-dd\" :picker-options=\"pickerOptions\"></el-date-picker>\r\n\r\n        <el-input v-model=\"userQueryDto.userName\" placeholder=\"请输入用户名\" clearable size=\"medium\" style=\"width: 220px;\"\r\n          @clear=\"handleFilterClear\" @keyup.enter=\"handleFilter\">\r\n          <template #append>\r\n            <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\"></el-button>\r\n          </template>\r\n        </el-input>\r\n\r\n        <el-button type=\"primary\" class=\"customer\" icon=\"el-icon-plus\" style=\"margin-left: 12px;\"\r\n          @click=\"add\">新增用户</el-button>\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- 用户卡片容器 -->\r\n    <div class=\"user-cards-container\">\r\n      <el-card v-for=\"(user, index) in tableData\" :key=\"index\" class=\"user-card\" shadow=\"hover\">\r\n        <div class=\"user-header\">\r\n          <el-avatar :src=\"user.userAvatar || 'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png'\"\r\n            size=\"medium\"></el-avatar>\r\n          <div class=\"user-info\">\r\n            <div class=\"user-name\">{{ user.userName }}</div>\r\n            <div class=\"user-account\">{{ user.userAccount }}</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"user-details\">\r\n          <div class=\"detail-item\">\r\n            <i class=\"el-icon-message\"></i>\r\n            <span>{{ user.userEmail || '未设置' }}</span>\r\n          </div>\r\n          <div class=\"detail-item\">\r\n            <i class=\"el-icon-time\"></i>\r\n            <span>{{ formatTime(user.createTime) }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"user-status\">\r\n          <el-tag :type=\"user.userRole === 1 ? 'danger' : 'success'\" size=\"small\">\r\n            {{ user.userRole === 1 ? '管理员' : '用户' }}\r\n          </el-tag>\r\n\r\n          <el-tag :type=\"user.isLogin ? 'danger' : 'success'\" size=\"small\">\r\n            {{ user.isLogin ? '已封号' : '账号状态正常' }}\r\n          </el-tag>\r\n\r\n          <el-tag :type=\"user.isWord ? 'warning' : 'success'\" size=\"small\">\r\n            {{ user.isWord ? '已禁言' : '留言状态正常' }}\r\n          </el-tag>\r\n        </div>\r\n\r\n        <div class=\"user-actions\">\r\n          <el-tooltip content=\"修改状态\" placement=\"top\">\r\n            <el-button type=\"primary\" icon=\"el-icon-setting\" circle size=\"mini\" @click=\"handleStatus(user)\"></el-button>\r\n          </el-tooltip>\r\n\r\n          <el-tooltip content=\"编辑用户\" placement=\"top\">\r\n            <el-button type=\"warning\" icon=\"el-icon-edit\" circle size=\"mini\" @click=\"handleEdit(user)\"></el-button>\r\n          </el-tooltip>\r\n\r\n          <el-tooltip content=\"删除用户\" placement=\"top\">\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" circle size=\"mini\" @click=\"handleDelete(user)\"></el-button>\r\n          </el-tooltip>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n\r\n    <!-- 分页区域 -->\r\n    <div class=\"pagination-area\">\r\n      <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"currentPage\"\r\n        :page-sizes=\"[12, 24, 48, 96]\" :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"totalItems\"></el-pagination>\r\n    </div>\r\n\r\n    <!-- 用户操作对话框 -->\r\n    <el-dialog :title=\"isOperation ? '编辑用户' : '新增用户'\" :visible.sync=\"dialogUserOperaion\" width=\"500px\"\r\n      :close-on-click-modal=\"false\">\r\n      <el-form label-width=\"80px\">\r\n        <el-form-item label=\"用户头像\">\r\n          <el-upload class=\"avatar-uploader\" action=\"http://localhost:21090/api/campus-product-sys/v1.0/file/upload\"\r\n            :show-file-list=\"false\" :on-success=\"handleAvatarSuccess\">\r\n            <img v-if=\"userAvatar\" :src=\"userAvatar\" class=\"avatar\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"用户名\">\r\n          <el-input style=\"width: 90%;\" v-model=\"data.userName\" placeholder=\"请输入用户名\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"账号\">\r\n          <el-input style=\"width: 90%;\" v-model=\"data.userAccount\" placeholder=\"请输入账号\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"邮箱\">\r\n          <el-input style=\"width: 90%;\" v-model=\"data.userEmail\" placeholder=\"请输入邮箱\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"密码\">\r\n          <el-input style=\"width: 90%;\" v-model=\"userPwd\" type=\"password\" placeholder=\"请输入密码\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button class=\"customer\" @click=\"cannel\">取 消</el-button>\r\n        <el-button class=\"customer\" type=\"primary\" @click=\"isOperation ? updateOperation() : addOperation()\">\r\n          确 定\r\n        </el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 状态设置对话框 -->\r\n    <el-dialog title=\"用户状态设置\" :visible.sync=\"dialogStatusOperation\" width=\"400px\" :close-on-click-modal=\"false\">\r\n      <el-form label-width=\"120px\">\r\n        <el-form-item label=\"封号状态\">\r\n          <el-switch v-model=\"data.isLogin\" active-text=\"封号\" inactive-text=\"正常\"></el-switch>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"禁言状态\">\r\n          <el-switch v-model=\"data.isWord\" active-text=\"禁言\" inactive-text=\"正常\"></el-switch>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"管理员设置\">\r\n          <el-switch v-model=\"isAdmin\" active-text=\"管理员\" inactive-text=\"普通用户\"></el-switch>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cannel\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"comfirmStatus\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      userPwd: '',\r\n      userAvatar: '',\r\n      data: {},\r\n      filterText: '',\r\n      isAdmin: false,\r\n      currentPage: 1,\r\n      pageSize: 12,\r\n      totalItems: 0,\r\n      dialogStatusOperation: false,\r\n      dialogUserOperaion: false,\r\n      isOperation: false,\r\n      tableData: [],\r\n      searchTime: [],\r\n      selectedRows: [],\r\n      status: null,\r\n      userQueryDto: {},\r\n      loginStatuList: [\r\n        { value: null, label: '全部' },\r\n        { value: 0, label: '正常' },\r\n        { value: 1, label: '封号' }\r\n      ],\r\n      wordStatuList: [\r\n        { value: null, label: '全部' },\r\n        { value: 0, label: '正常' },\r\n        { value: 1, label: '禁言' }\r\n      ],\r\n      rolesList: [\r\n        { value: null, label: '全部' },\r\n        { value: 2, label: '用户' },\r\n        { value: 1, label: '管理员' }\r\n      ],\r\n      pickerOptions: {\r\n        disabledDate(time) {\r\n          return time.getTime() > Date.now();\r\n        },\r\n        shortcuts: [\r\n          {\r\n            text: '最近一周',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: '最近一个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: '最近三个月',\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit('pick', [start, end]);\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchFreshData();\r\n  },\r\n  methods: {\r\n    formatTime(time) {\r\n      if (!time) return '';\r\n      const date = new Date(time);\r\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')}`;\r\n    },\r\n\r\n    cannel() {\r\n      this.data = {};\r\n      this.userAvatar = '';\r\n      this.userPwd = '';\r\n      this.dialogUserOperaion = false;\r\n      this.dialogStatusOperation = false;\r\n      this.isOperation = false;\r\n    },\r\n\r\n    comfirmStatus() {\r\n      const userUpdateDto = {\r\n        id: this.data.id,\r\n        isLogin: this.data.isLogin,\r\n        userRole: this.isAdmin ? 1 : 2,\r\n        isWord: this.data.isWord\r\n      };\r\n\r\n      this.$axios.put(`/user/backUpdate`, userUpdateDto)\r\n        .then(res => {\r\n          if (res.data.code === 200) {\r\n            this.$message.success('状态修改成功');\r\n            this.cannel();\r\n            this.fetchFreshData();\r\n          } else {\r\n            this.$message.error(res.data.msg || '状态修改失败');\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(\"修改状态异常:\", error);\r\n          this.$message.error('状态修改异常');\r\n        });\r\n    },\r\n\r\n    handleStatus(data) {\r\n      this.isAdmin = data.userRole === 1;\r\n      this.dialogStatusOperation = true;\r\n      this.data = { ...data };\r\n    },\r\n\r\n    handleAvatarSuccess(res, file) {\r\n      if (res.code === 200) {\r\n        this.userAvatar = res.data;\r\n        this.$message.success('头像上传成功');\r\n      } else {\r\n        this.$message.error('头像上传失败');\r\n      }\r\n    },\r\n\r\n    async batchDelete() {\r\n      if (!this.selectedRows.length) {\r\n        this.$message.warning('请至少选择一条数据');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const confirmed = await this.$confirm(\r\n          `确认删除选中的${this.selectedRows.length}条用户数据吗？删除后不可恢复！`,\r\n          '删除确认',\r\n          {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          }\r\n        );\r\n\r\n        if (confirmed) {\r\n          const ids = this.selectedRows.map(item => item.id);\r\n          const response = await this.$axios.post(`/user/batchDelete`, ids);\r\n\r\n          if (response.data.code === 200) {\r\n            this.$message.success('删除成功');\r\n            this.fetchFreshData();\r\n            this.selectedRows = [];\r\n          } else {\r\n            this.$message.error(response.data.msg || '删除失败');\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('删除用户异常:', error);\r\n        this.$message.error('删除操作异常');\r\n      }\r\n    },\r\n\r\n    async updateOperation() {\r\n      if (this.userPwd !== '') {\r\n        const pwd = this.$md5(this.$md5(this.userPwd));\r\n        this.data.userPwd = pwd;\r\n      } else {\r\n        this.data.userPwd = null;\r\n      }\r\n      this.data.userAvatar = this.userAvatar;\r\n\r\n      try {\r\n        const response = await this.$axios.put('/user/backUpdate', this.data);\r\n        if (response.data.code === 200) {\r\n          this.$message.success('用户信息修改成功');\r\n          this.cannel();\r\n          this.fetchFreshData();\r\n        } else {\r\n          this.$message.error(response.data.msg || '修改失败');\r\n        }\r\n      } catch (error) {\r\n        console.error('修改出错:', error);\r\n        this.$message.error('修改异常');\r\n      }\r\n    },\r\n\r\n    async addOperation() {\r\n      if (this.userPwd !== '') {\r\n        this.data.userPwd = this.$md5(this.$md5(this.userPwd));\r\n      } else {\r\n        this.data.userPwd = null;\r\n      }\r\n      this.data.userAvatar = this.userAvatar;\r\n\r\n      try {\r\n        const response = await this.$axios.post('/user/insert', this.data);\r\n        if (response.data.code === 200) {\r\n          this.$message.success('用户新增成功');\r\n          this.cannel();\r\n          this.fetchFreshData();\r\n        } else {\r\n          this.$message.error(response.data.msg || '新增失败');\r\n        }\r\n      } catch (error) {\r\n        console.error('信息新增出错:', error);\r\n        this.$message.error('提交失败，请稍后再试！');\r\n      }\r\n    },\r\n\r\n    async fetchFreshData() {\r\n      try {\r\n        let startTime = '';\r\n        let endTime = '';\r\n        if (this.searchTime && this.searchTime.length === 2) {\r\n          startTime = `${this.searchTime[0]}T00:00:00`;\r\n          endTime = `${this.searchTime[1]}T23:59:59`;\r\n        }\r\n\r\n        const params = {\r\n          current: this.currentPage,\r\n          size: this.pageSize,\r\n          key: this.filterText,\r\n          startTime: startTime,\r\n          endTime: endTime,\r\n          ...this.userQueryDto\r\n        };\r\n\r\n        const response = await this.$axios.post('/user/query', params);\r\n        const { data } = response;\r\n\r\n        if (data.code === 200) {\r\n          this.tableData = data.data;\r\n          this.totalItems = data.total;\r\n        } else {\r\n          this.$message.error(data.msg || '查询失败');\r\n        }\r\n      } catch (error) {\r\n        console.error('查询用户信息异常:', error);\r\n        this.$message.error('查询操作异常');\r\n      }\r\n    },\r\n\r\n    add() {\r\n      this.dialogUserOperaion = true;\r\n      this.isOperation = false;\r\n      this.data = {};\r\n      this.userAvatar = '';\r\n      this.userPwd = '';\r\n    },\r\n\r\n    handleFilter() {\r\n      this.currentPage = 1;\r\n      this.fetchFreshData();\r\n    },\r\n\r\n    handleFilterClear() {\r\n      this.filterText = '';\r\n      this.handleFilter();\r\n    },\r\n\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      this.currentPage = 1;\r\n      this.fetchFreshData();\r\n    },\r\n\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val;\r\n      this.fetchFreshData();\r\n    },\r\n\r\n    handleEdit(row) {\r\n      this.dialogUserOperaion = true;\r\n      this.isOperation = true;\r\n      this.userAvatar = row.userAvatar;\r\n      this.data = { ...row };\r\n      this.userPwd = '';\r\n    },\r\n\r\n    handleDelete(row) {\r\n      this.selectedRows = [row];\r\n      this.batchDelete();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.user-management-container {\r\n  padding: 20px 0;\r\n\r\n  .search-card {\r\n    margin-bottom: 20px;\r\n    border-radius: 8px;\r\n    border: 1px solid #ebeef5;\r\n\r\n    .search-content {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n\r\n  .user-cards-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\r\n    gap: 16px;\r\n    margin-bottom: 20px;\r\n\r\n    .user-card {\r\n      border-radius: 8px;\r\n      transition: all 0.3s ease;\r\n\r\n      &:hover {\r\n        transform: translateY(-3px);\r\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n      }\r\n\r\n      .user-header {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 12px;\r\n\r\n        .user-info {\r\n          margin-left: 12px;\r\n\r\n          .user-name {\r\n            font-weight: 500;\r\n            font-size: 16px;\r\n          }\r\n\r\n          .user-account {\r\n            font-size: 12px;\r\n            color: #909399;\r\n          }\r\n        }\r\n      }\r\n\r\n      .user-details {\r\n        margin-bottom: 12px;\r\n\r\n        .detail-item {\r\n          display: flex;\r\n          align-items: center;\r\n          margin-bottom: 6px;\r\n          font-size: 13px;\r\n          color: #606266;\r\n\r\n          i {\r\n            margin-right: 8px;\r\n            color: #909399;\r\n          }\r\n        }\r\n      }\r\n\r\n      .user-status {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        gap: 6px;\r\n        margin-bottom: 12px;\r\n      }\r\n\r\n      .user-actions {\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        gap: 6px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .pagination-area {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n\r\n  .avatar-uploader {\r\n    ::v-deep .el-upload {\r\n      border: 1px dashed #d9d9d9;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n      position: relative;\r\n      overflow: hidden;\r\n\r\n      &:hover {\r\n        border-color: #409EFF;\r\n      }\r\n    }\r\n\r\n    .avatar-uploader-icon {\r\n      font-size: 28px;\r\n      color: #8c939d;\r\n      width: 120px;\r\n      height: 120px;\r\n      line-height: 120px;\r\n      text-align: center;\r\n    }\r\n\r\n    .avatar {\r\n      width: 120px;\r\n      height: 120px;\r\n      display: block;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}