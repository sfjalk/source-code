{"remainingRequest":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Downloads/campus-system/source code/campus-product-view/src/views/admin/Main.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/src/views/admin/Main.vue","mtime":1758037360902},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/cache-loader/dist/cjs.js","mtime":1767024828976},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/babel-loader/lib/index.js","mtime":1767024830795},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/cache-loader/dist/cjs.js","mtime":1767024828976},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/vue-loader/lib/index.js","mtime":1767024826361}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGltcG9ydCBMaW5lQ2hhcnQgZnJvbSAiQC9jb21wb25lbnRzL0xpbmVDaGFydCINCiAgDQogIGV4cG9ydCBkZWZhdWx0IHsNCiAgICBjb21wb25lbnRzOiB7IExpbmVDaGFydCB9LA0KICAgIGRhdGEoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBzdGF0aWNDb3VudExpc3Q6IFtdLA0KICAgICAgICBwcm9kdWN0TGlzdDogW10sDQogICAgICAgIHZhbHVlczogW10sDQogICAgICAgIGRhdGVzOiBbXSwNCiAgICAgICAgZGF5czogMzY1LA0KICAgICAgICBjb2xvclBhbGV0dGU6IFsNCiAgICAgICAgICAnbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzZCNzNGRiAwJSwgIzAwMERGRiAxMDAlKScsDQogICAgICAgICAgJ2xpbmVhci1ncmFkaWVudCgxMzVkZWcsICNGRjZCNkIgMCUsICNGRjAwMDAgMTAwJSknLA0KICAgICAgICAgICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNEJDMEM4IDAlLCAjMDBENEZGIDEwMCUpJywNCiAgICAgICAgICAnbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI0ZGQTUwMCAwJSwgI0ZGN0IwMCAxMDAlKScNCiAgICAgICAgXSwNCiAgICAgICAgc3RhdEljb25zOiBbDQogICAgICAgICAgJ2VsLWljb24tcy1nb29kcycsDQogICAgICAgICAgJ2VsLWljb24tcy1zaG9wJywNCiAgICAgICAgICAnZWwtaWNvbi1zLW9yZGVyJywNCiAgICAgICAgICAnZWwtaWNvbi1zLWN1c3RvbScNCiAgICAgICAgXQ0KICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgIHRoaXMuZmV0Y2hTdGF0aWNDb3VudCgpOw0KICAgICAgdGhpcy5mZXRjaFByb2R1Y3RMaXN0KCk7DQogICAgICB0aGlzLm9uU2VsZWN0ZWQodGhpcy5kYXlzKTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIHJvdXRlKHByb2R1Y3QpIHsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9wcm9kdWN0LWRldGFpbDE/cHJvZHVjdElkPScgKyBwcm9kdWN0LmlkKTsNCiAgICAgIH0sDQogICAgICANCiAgICAgIGNvdmVyTGlzdFBhcnNlKHByb2R1Y3QpIHsNCiAgICAgICAgaWYgKCFwcm9kdWN0LmNvdmVyTGlzdCkgcmV0dXJuICcnOw0KICAgICAgICBjb25zdCBuZXdDb3Zlckxpc3QgPSBwcm9kdWN0LmNvdmVyTGlzdC5zcGxpdCgnLCcpOw0KICAgICAgICByZXR1cm4gbmV3Q292ZXJMaXN0WzBdIHx8ICcnOw0KICAgICAgfSwNCiAgICAgIA0KICAgICAgb25TZWxlY3RlZChkYXkpIHsNCiAgICAgICAgdGhpcy4kYXhpb3MuZ2V0KGAvZGFzaGJvYXJkL3Byb2R1Y3RTaGVsdmVzSW5mby8ke2RheX1gKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXM7DQogICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICB0aGlzLnZhbHVlcyA9IGRhdGEuZGF0YS5tYXAoZW50aXR5ID0+IGVudGl0eS5jb3VudCk7DQogICAgICAgICAgICB0aGlzLmRhdGVzID0gZGF0YS5kYXRhLm1hcChlbnRpdHkgPT4gZW50aXR5Lm5hbWUpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuWVhuWTgeS4iuaetuaDheWGteW8guW4uDoiLCBlcnJvcik7DQogICAgICAgIH0pDQogICAgICB9LA0KICAgICAgDQogICAgICBmZXRjaFN0YXRpY0NvdW50KCkgew0KICAgICAgICB0aGlzLiRheGlvcy5nZXQoJy9kYXNoYm9hcmQvc3RhdGljQ291bnQnKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXM7DQogICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICB0aGlzLnN0YXRpY0NvdW50TGlzdCA9IGRhdGEuZGF0YTsNCiAgICAgICAgICB9DQogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKCLln7rnoYDmlbDmja7mn6Xor6LlvILluLg6IiwgZXJyb3IpOw0KICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIA0KICAgICAgZmV0Y2hQcm9kdWN0TGlzdCgpIHsNCiAgICAgICAgY29uc3QgcHJvZHVjdFF1ZXJ5RHRvID0gew0KICAgICAgICAgIHNpemU6IDMsDQogICAgICAgICAgY3VycmVudDogMQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9wcm9kdWN0L3F1ZXJ5JywgcHJvZHVjdFF1ZXJ5RHRvKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXM7DQogICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICB0aGlzLnByb2R1Y3RMaXN0ID0gZGF0YS5kYXRhOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuafpeivouWVhuWTgeS/oeaBr+W8guW4uDoiLCBlcnJvcik7DQogICAgICAgIH0pDQogICAgICB9DQogICAgfQ0KICB9Ow0KICA="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";AAwFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n    <div class=\"dashboard-container\">\r\n      <!-- 左侧统计和图表区域 -->\r\n      <div class=\"dashboard-left\">\r\n        <!-- 统计卡片区域 -->\r\n        <div class=\"stats-grid\">\r\n          <div \r\n            v-for=\"(stat, index) in staticCountList\" \r\n            :key=\"index\" \r\n            class=\"stat-card\"\r\n            :style=\"{ '--card-color': colorPalette[index % colorPalette.length] }\">\r\n            <div class=\"stat-title\">{{ stat.name }}</div>\r\n            <div class=\"stat-value\">\r\n              <el-statistic \r\n                group-separator=\",\" \r\n                :precision=\"0\" \r\n                :value=\"stat.count\">\r\n              </el-statistic>\r\n            </div>\r\n            <div class=\"stat-icon\">\r\n              <i :class=\"statIcons[index % statIcons.length]\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  \r\n        <!-- 折线图区域 -->\r\n        <div class=\"chart-container\">\r\n          <div class=\"chart-header\">\r\n            <span>商品上架趋势</span>\r\n            <el-tag type=\"info\" size=\"small\">最近{{days}}天</el-tag>\r\n          </div>\r\n          <LineChart \r\n            @on-selected=\"onSelected\" \r\n            tag=\"商品上架情况\" \r\n            :values=\"values\" \r\n            :date=\"dates\" \r\n            height=\"400px\" />\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- 右侧最新商品区域 -->\r\n      <div class=\"dashboard-right\">\r\n        <div class=\"product-header\">\r\n          <h2>最新上架商品</h2>\r\n          <el-button \r\n            type=\"text\" \r\n            icon=\"el-icon-refresh\" \r\n            @click=\"fetchProductList\">\r\n            刷新\r\n          </el-button>\r\n        </div>\r\n        \r\n        <div class=\"product-list\">\r\n          <div \r\n            v-for=\"(product, index) in productList\" \r\n            :key=\"index\" \r\n            class=\"product-card\"\r\n            @click=\"route(product)\">\r\n            <div class=\"product-badge\" v-if=\"product.isBargain\">\r\n              <span>砍价</span>\r\n            </div>\r\n            <div class=\"product-cover\">\r\n              <img :src=\"coverListParse(product)\" :alt=\"product.name\">\r\n            </div>\r\n            \r\n            <div class=\"product-info\">\r\n              <div class=\"product-title\">\r\n                {{ product.name }}\r\n              </div>\r\n              \r\n              <div class=\"product-meta\">\r\n                <div class=\"product-price\">\r\n                  <span class=\"price-symbol\">¥</span>\r\n                  <span class=\"price-value\">{{ product.price }}</span>\r\n                </div>\r\n                <div class=\"product-likes\">\r\n                  <i class=\"el-icon-star-on\"></i>\r\n                  <span>{{ product.likeNumber }}人想要</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import LineChart from \"@/components/LineChart\"\r\n  \r\n  export default {\r\n    components: { LineChart },\r\n    data() {\r\n      return {\r\n        staticCountList: [],\r\n        productList: [],\r\n        values: [],\r\n        dates: [],\r\n        days: 365,\r\n        colorPalette: [\r\n          'linear-gradient(135deg, #6B73FF 0%, #000DFF 100%)',\r\n          'linear-gradient(135deg, #FF6B6B 0%, #FF0000 100%)',\r\n          'linear-gradient(135deg, #4BC0C8 0%, #00D4FF 100%)',\r\n          'linear-gradient(135deg, #FFA500 0%, #FF7B00 100%)'\r\n        ],\r\n        statIcons: [\r\n          'el-icon-s-goods',\r\n          'el-icon-s-shop',\r\n          'el-icon-s-order',\r\n          'el-icon-s-custom'\r\n        ]\r\n      }\r\n    },\r\n    created() {\r\n      this.fetchStaticCount();\r\n      this.fetchProductList();\r\n      this.onSelected(this.days);\r\n    },\r\n    methods: {\r\n      route(product) {\r\n        this.$router.push('/product-detail1?productId=' + product.id);\r\n      },\r\n      \r\n      coverListParse(product) {\r\n        if (!product.coverList) return '';\r\n        const newCoverList = product.coverList.split(',');\r\n        return newCoverList[0] || '';\r\n      },\r\n      \r\n      onSelected(day) {\r\n        this.$axios.get(`/dashboard/productShelvesInfo/${day}`).then(res => {\r\n          const { data } = res;\r\n          if (data.code === 200) {\r\n            this.values = data.data.map(entity => entity.count);\r\n            this.dates = data.data.map(entity => entity.name);\r\n          }\r\n        }).catch(error => {\r\n          console.error(\"商品上架情况异常:\", error);\r\n        })\r\n      },\r\n      \r\n      fetchStaticCount() {\r\n        this.$axios.get('/dashboard/staticCount').then(res => {\r\n          const { data } = res;\r\n          if (data.code === 200) {\r\n            this.staticCountList = data.data;\r\n          }\r\n        }).catch(error => {\r\n          console.error(\"基础数据查询异常:\", error);\r\n        })\r\n      },\r\n      \r\n      fetchProductList() {\r\n        const productQueryDto = {\r\n          size: 3,\r\n          current: 1\r\n        }\r\n        this.$axios.post('/product/query', productQueryDto).then(res => {\r\n          const { data } = res;\r\n          if (data.code === 200) {\r\n            this.productList = data.data;\r\n          }\r\n        }).catch(error => {\r\n          console.error(\"查询商品信息异常:\", error);\r\n        })\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped lang=\"scss\">\r\n  .dashboard-container {\r\n    display: flex;\r\n    gap: 24px;\r\n    padding: 24px;\r\n    min-height: calc(100vh - 60px);\r\n    background-color: #fff;\r\n    box-sizing: border-box;\r\n  }\r\n  \r\n  .dashboard-left {\r\n    flex: 1;\r\n    min-width: 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 24px;\r\n  }\r\n  \r\n  .dashboard-right {\r\n    width: 360px;\r\n    flex-shrink: 0;\r\n  }\r\n  \r\n  .stats-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\r\n    gap: 20px;\r\n  }\r\n  \r\n  .stat-card {\r\n    position: relative;\r\n    padding: 24px;\r\n    border-radius: 16px;\r\n    background: var(--card-color);\r\n    color: white;\r\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\r\n    overflow: hidden;\r\n    transition: transform 0.3s, box-shadow 0.3s;\r\n    \r\n    &:hover {\r\n      transform: translateY(-5px);\r\n      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);\r\n    }\r\n    \r\n    .stat-title {\r\n      font-size: 16px;\r\n      font-weight: 500;\r\n      margin-bottom: 12px;\r\n      opacity: 0.9;\r\n    }\r\n    \r\n    .stat-value {\r\n      font-size: 32px;\r\n      font-weight: 700;\r\n      \r\n      ::v-deep .el-statistic__content {\r\n        color: white;\r\n        font-size: inherit;\r\n        font-weight: inherit;\r\n      }\r\n    }\r\n    \r\n    .stat-icon {\r\n      position: absolute;\r\n      right: 24px;\r\n      top: 24px;\r\n      font-size: 48px;\r\n      opacity: 0.2;\r\n    }\r\n  }\r\n  \r\n  .chart-container {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: white;\r\n    border-radius: 16px;\r\n    padding: 24px;\r\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);\r\n    \r\n    .chart-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin-bottom: 20px;\r\n      \r\n      span {\r\n        font-size: 18px;\r\n        font-weight: 600;\r\n        color: #1e293b;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .product-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n    padding: 0 8px;\r\n    \r\n    h2 {\r\n      margin: 0;\r\n      font-size: 18px;\r\n      font-weight: 600;\r\n      color: #1e293b;\r\n    }\r\n  }\r\n  \r\n  .product-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n  }\r\n  \r\n  .product-card {\r\n    position: relative;\r\n    background: white;\r\n    border-radius: 16px;\r\n    overflow: hidden;\r\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);\r\n    transition: all 0.3s;\r\n    cursor: pointer;\r\n    \r\n    &:hover {\r\n      transform: translateY(-5px);\r\n      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);\r\n      \r\n      .product-cover img {\r\n        transform: scale(1.05);\r\n      }\r\n    }\r\n    \r\n    .product-badge {\r\n      position: absolute;\r\n      top: 12px;\r\n      right: 12px;\r\n      background: linear-gradient(135deg, #FFA500 0%, #FF7B00 100%);\r\n      color: white;\r\n      padding: 4px 12px;\r\n      border-radius: 20px;\r\n      font-size: 12px;\r\n      font-weight: 600;\r\n      z-index: 2;\r\n      box-shadow: 0 2px 8px rgba(255, 123, 0, 0.3);\r\n    }\r\n    \r\n    .product-cover {\r\n      height: 180px;\r\n      overflow: hidden;\r\n      \r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: cover;\r\n        transition: transform 0.5s;\r\n      }\r\n    }\r\n    \r\n    .product-info {\r\n      padding: 16px;\r\n      \r\n      .product-title {\r\n        font-size: 16px;\r\n        font-weight: 600;\r\n        color: #1e293b;\r\n        margin-bottom: 12px;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 2;\r\n        -webkit-box-orient: vertical;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        min-height: 48px;\r\n      }\r\n      \r\n      .product-meta {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        \r\n        .product-price {\r\n          .price-symbol {\r\n            font-size: 14px;\r\n            color: #f97316;\r\n            font-weight: 600;\r\n          }\r\n          \r\n          .price-value {\r\n            font-size: 20px;\r\n            color: #f97316;\r\n            font-weight: 700;\r\n          }\r\n        }\r\n        \r\n        .product-likes {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 6px;\r\n          font-size: 14px;\r\n          color: #64748b;\r\n          \r\n          i {\r\n            color: #f43f5e;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  @media (max-width: 1200px) {\r\n    .dashboard-container {\r\n      flex-direction: column;\r\n    }\r\n    \r\n    .dashboard-right {\r\n      width: 100%;\r\n      margin-top: 24px;\r\n    }\r\n    \r\n    .stats-grid {\r\n      grid-template-columns: repeat(2, 1fr);\r\n    }\r\n  }\r\n  \r\n  @media (max-width: 768px) {\r\n    .stats-grid {\r\n      grid-template-columns: 1fr;\r\n    }\r\n    \r\n    .dashboard-container {\r\n      padding: 16px;\r\n    }\r\n    \r\n    .stat-card {\r\n      padding: 20px;\r\n      \r\n      .stat-value {\r\n        font-size: 28px;\r\n      }\r\n      \r\n      .stat-icon {\r\n        font-size: 40px;\r\n      }\r\n    }\r\n  }\r\n  </style>"]}]}