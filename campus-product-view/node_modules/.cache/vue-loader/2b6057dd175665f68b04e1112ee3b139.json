{"remainingRequest":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Downloads/campus-system/source code/campus-product-view/src/views/admin/Orders.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/src/views/admin/Orders.vue","mtime":1758037360496},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/cache-loader/dist/cjs.js","mtime":1767024828976},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/babel-loader/lib/index.js","mtime":1767024830795},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/cache-loader/dist/cjs.js","mtime":1767024828976},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/vue-loader/lib/index.js","mtime":1767024826361}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGV4cG9ydCBkZWZhdWx0IHsNCiAgICBkYXRhKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgZGF0YToge30sDQogICAgICAgIGN1cnJlbnRQYWdlOiAxLA0KICAgICAgICBjb3Zlckxpc3Q6IFtdLA0KICAgICAgICBzZWFyY2hUaW1lOiBbXSwNCiAgICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgICB0b3RhbEl0ZW1zOiAwLA0KICAgICAgICBkcmF3ZXJQcm9kdWN0T3BlcmFpb246IGZhbHNlLA0KICAgICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgICBkZWxlY3RlZFJvd3M6IFtdLA0KICAgICAgICBvcmRlcnNRdWVyeUR0bzoge30sDQogICAgICAgIGRpcmVjdGlvbjogJ3J0bCcsDQogICAgICAgIHRyYWRlU2VsZWN0ZWRJdGVtOiB7fSwNCiAgICAgICAgcmVmdW5kU2VsZWN0ZWRJdGVtOiB7fSwNCiAgICAgICAgcmVmdW5kU3RhdHVzOiBbDQogICAgICAgICAgeyByZWZ1bmRTdGF0dXM6IG51bGwsIG5hbWU6ICflhajpg6gnIH0sIA0KICAgICAgICAgIHsgcmVmdW5kU3RhdHVzOiB0cnVlLCBuYW1lOiAn5bey6YCA5qy+JyB9LCANCiAgICAgICAgICB7IHJlZnVuZFN0YXR1czogZmFsc2UsIG5hbWU6ICfmnKrpgIDmrL4nIH0NCiAgICAgICAgXSwNCiAgICAgICAgdHJhZGVTdGF0dXM6IFsNCiAgICAgICAgICB7IHRyYWRlU3RhdHVzOiBudWxsLCBuYW1lOiAn5YWo6YOoJyB9LCANCiAgICAgICAgICB7IHRyYWRlU3RhdHVzOiB0cnVlLCBuYW1lOiAn5bey5LiL5Y2VJyB9LCANCiAgICAgICAgICB7IHRyYWRlU3RhdHVzOiBmYWxzZSwgbmFtZTogJ+acquS4i+WNlScgfQ0KICAgICAgICBdDQogICAgICB9Ow0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgIHRoaXMuZmV0Y2hGcmVzaERhdGEoKTsNCiAgICAgIHRoaXMudHJhZGVTZWxlY3RlZCh0aGlzLnRyYWRlU3RhdHVzWzBdKTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIHRyYWRlU2VsZWN0ZWQodHJhZGUpIHsNCiAgICAgICAgdGhpcy50cmFkZVNlbGVjdGVkSXRlbSA9IHRyYWRlOw0KICAgICAgICB0aGlzLm9yZGVyc1F1ZXJ5RHRvLnRyYWRlU3RhdHVzID0gdHJhZGUudHJhZGVTdGF0dXM7DQogICAgICAgIHRoaXMuZmV0Y2hGcmVzaERhdGEoKTsNCiAgICAgIH0sDQogICAgICByZWZ1bmRTZWxlY3RlZChyZWZ1bmQpIHsNCiAgICAgICAgdGhpcy5yZWZ1bmRTZWxlY3RlZEl0ZW0gPSByZWZ1bmQ7DQogICAgICAgIHRoaXMub3JkZXJzUXVlcnlEdG8ucmVmdW5kU3RhdHVzID0gcmVmdW5kLnJlZnVuZFN0YXR1czsNCiAgICAgICAgdGhpcy5mZXRjaEZyZXNoRGF0YSgpOyANCiAgICAgIH0sDQogICAgICBjYW5uZWwoKSB7DQogICAgICAgIHRoaXMuZGF0YSA9IHt9Ow0KICAgICAgICB0aGlzLmRyYXdlclByb2R1Y3RPcGVyYWlvbiA9IGZhbHNlOw0KICAgICAgfSwNCiAgICAgIGFzeW5jIGJhdGNoRGVsZXRlKCkgew0KICAgICAgICBpZiAoIXRoaXMuZGVsZWN0ZWRSb3dzLmxlbmd0aCkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoYOacqumAieS4reS7u+S9leaVsOaNrmApOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBjb25maXJtZWQgPSBhd2FpdCB0aGlzLiRzd2FsQ29uZmlybSh7DQogICAgICAgICAgdGl0bGU6ICfliKDpmaTorqLljZXmlbDmja4nLA0KICAgICAgICAgIHRleHQ6IGDliKDpmaTlkI7kuI3lj6/mgaLlpI3vvIzmmK/lkKbnu6fnu63vvJ9gLA0KICAgICAgICAgIGljb246ICd3YXJuaW5nJywNCiAgICAgICAgfSk7DQogICAgICAgIGlmIChjb25maXJtZWQpIHsNCiAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgbGV0IGlkcyA9IHRoaXMuZGVsZWN0ZWRSb3dzLm1hcChlbnRpdHkgPT4gZW50aXR5LmlkKTsNCiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdChgL29yZGVycy9iYXRjaERlbGV0ZWAsIGlkcyk7DQogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCwNCiAgICAgICAgICAgICAgICB0aXRsZTogJ+S/oeaBr+WIoOmZpCcsDQogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycsDQogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB0aGlzLmZldGNoRnJlc2hEYXRhKCk7DQogICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K6i5Y2V5L+h5oGv5Yig6Zmk5byC5bi477yaIiwgZXJyb3IpOw0KICAgICAgICAgICAgY29uc29sZS5lcnJvcihg6K6i5Y2V5L+h5oGv5Yig6Zmk5byC5bi477yaYCwgZXJyb3IpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGFzeW5jIGZldGNoRnJlc2hEYXRhKCkgew0KICAgICAgICBsZXQgc3RhcnRUaW1lID0gbnVsbDsNCiAgICAgICAgbGV0IGVuZFRpbWUgPSBudWxsOw0KICAgICAgICBpZiAodGhpcy5zZWFyY2hUaW1lICE9IG51bGwgJiYgdGhpcy5zZWFyY2hUaW1lLmxlbmd0aCA9PT0gMikgew0KICAgICAgICAgIGNvbnN0IFtzdGFydERhdGUsIGVuZERhdGVdID0gYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5zZWFyY2hUaW1lLm1hcChkYXRlID0+IGRhdGUudG9JU09TdHJpbmcoKSkpOw0KICAgICAgICAgIHN0YXJ0VGltZSA9IGAke3N0YXJ0RGF0ZS5zcGxpdCgnVCcpWzBdfVQwMDowMDowMGA7DQogICAgICAgICAgZW5kVGltZSA9IGAke2VuZERhdGUuc3BsaXQoJ1QnKVswXX1UMjM6NTk6NTlgOw0KICAgICAgICB9DQogICAgICAgIHRoaXMub3JkZXJzUXVlcnlEdG8uY3VycmVudCA9IHRoaXMuY3VycmVudFBhZ2U7DQogICAgICAgIHRoaXMub3JkZXJzUXVlcnlEdG8uc2l6ZSA9IHRoaXMucGFnZVNpemU7DQogICAgICAgIHRoaXMub3JkZXJzUXVlcnlEdG8uc3RhcnRUaW1lID0gc3RhcnRUaW1lOw0KICAgICAgICB0aGlzLm9yZGVyc1F1ZXJ5RHRvLmVuZFRpbWUgPSBlbmRUaW1lOw0KICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvb3JkZXJzL3F1ZXJ5JywgdGhpcy5vcmRlcnNRdWVyeUR0bykudGhlbihyZXMgPT4gew0KICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzOw0KICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSBkYXRhLmRhdGE7DQogICAgICAgICAgICB0aGlzLnRvdGFsSXRlbXMgPSBkYXRhLnRvdGFsOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7DQogICAgICAgICAgICB0aXRsZTogJ+afpeivouaTjeS9nCcsDQogICAgICAgICAgICBtZXNzYWdlOiBlcnJvcg0KICAgICAgICAgIH0pOw0KICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIGhhbmRsZUZpbHRlcigpIHsNCiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7DQogICAgICAgIHRoaXMuZmV0Y2hGcmVzaERhdGEoKTsNCiAgICAgIH0sDQogICAgICBoYW5kbGVGaWx0ZXJDbGVhcigpIHsNCiAgICAgICAgdGhpcy5oYW5kbGVGaWx0ZXIoKTsNCiAgICAgIH0sDQogICAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOw0KICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsNCiAgICAgICAgdGhpcy5mZXRjaEZyZXNoRGF0YSgpOw0KICAgICAgfSwNCiAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7DQogICAgICAgIHRoaXMuZmV0Y2hGcmVzaERhdGEoKTsNCiAgICAgIH0sDQogICAgICBoYW5kbGVFZGl0KHJvdykgew0KICAgICAgICB0aGlzLmRhdGEgPSByb3c7DQogICAgICAgIHRoaXMuY292ZXJMaXN0ID0gcm93LnByb2R1Y3RDb3ZlciA/IHJvdy5wcm9kdWN0Q292ZXIuc3BsaXQoJywnKSA6IFtdOw0KICAgICAgICB0aGlzLmRyYXdlclByb2R1Y3RPcGVyYWlvbiA9IHRydWU7DQogICAgICB9LA0KICAgICAgaGFuZGxlRGVsZXRlKHJvdykgew0KICAgICAgICB0aGlzLmRlbGVjdGVkUm93cy5wdXNoKHJvdyk7DQogICAgICAgIHRoaXMuYmF0Y2hEZWxldGUoKTsNCiAgICAgIH0NCiAgICB9LA0KICB9Ow0KICA="},{"version":3,"sources":["Orders.vue"],"names":[],"mappings":";AAsKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Orders.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n    <div class=\"card-container\">\r\n      <!-- 筛选卡片 -->\r\n      <el-card class=\"filter-card\" shadow=\"never\">\r\n        <div class=\"filter-content\">\r\n          <div class=\"filter-tabs\">\r\n            <el-radio-group v-model=\"tradeSelectedItem\" @change=\"tradeSelected\" size=\"small\">\r\n              <el-radio-button v-for=\"(trade, index) in tradeStatus\" \r\n                              :key=\"index\" \r\n                              :label=\"trade\">\r\n                {{ trade.name }}\r\n              </el-radio-button>\r\n            </el-radio-group>\r\n            \r\n            <el-radio-group v-model=\"refundSelectedItem\" @change=\"refundSelected\" size=\"small\" style=\"margin-left: 10px;\">\r\n              <el-radio-button v-for=\"(refund, index) in refundStatus\" \r\n                              :key=\"index\" \r\n                              :label=\"refund\">\r\n                {{ refund.name }}\r\n              </el-radio-button>\r\n            </el-radio-group>\r\n          </div>\r\n          \r\n          <div class=\"filter-controls\">\r\n            <el-date-picker class=\"filter-item\" \r\n                            @change=\"fetchFreshData\" \r\n                            v-model=\"searchTime\" \r\n                            type=\"daterange\" \r\n                            range-separator=\"至\" \r\n                            start-placeholder=\"下单开始\"\r\n                            end-placeholder=\"下单结束\"\r\n                            size=\"small\">\r\n            </el-date-picker>\r\n            \r\n            <el-input class=\"filter-item\" \r\n                      v-model=\"ordersQueryDto.code\" \r\n                      placeholder=\"订单号\" \r\n                      clearable\r\n                      @clear=\"handleFilterClear\"\r\n                      size=\"small\">\r\n              <el-button slot=\"append\" @click=\"handleFilter\" icon=\"el-icon-search\"></el-button>\r\n            </el-input>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n  \r\n      <!-- 订单列表卡片 -->\r\n      <el-card class=\"order-card\" shadow=\"never\">\r\n        <div v-for=\"order in tableData\" :key=\"order.id\" class=\"order-item\">\r\n          <div class=\"order-header\">\r\n            <div class=\"order-code\">订单号: {{ order.code }}</div>\r\n            <div class=\"order-time\">{{ order.createTime }}</div>\r\n          </div>\r\n          \r\n          <div class=\"order-content\">\r\n            <div class=\"order-user\">\r\n              <el-avatar :size=\"40\" :src=\"order.userAvatar\"></el-avatar>\r\n              <div class=\"user-name\">{{ order.userName }}</div>\r\n            </div>\r\n            \r\n            <div class=\"order-product\">\r\n              <el-image v-if=\"order.productCover\" \r\n                        :src=\"order.productCover.split(',')[0]\" \r\n                        :preview-src-list=\"order.productCover.split(',')\"\r\n                        fit=\"cover\"\r\n                        class=\"product-image\">\r\n              </el-image>\r\n              <div class=\"product-info\">\r\n                <div class=\"product-title\">{{ order.productTitle }}</div>\r\n                <div class=\"product-meta\">\r\n                  <span class=\"price\">单价: {{ order.buyPrice }}元</span>\r\n                  <span class=\"quantity\">数量: {{ order.buyNumber }}</span>\r\n                </div>\r\n                <div class=\"product-remark\" v-if=\"order.detail\">备注: {{ order.detail }}</div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"order-status\">\r\n              <el-tag :type=\"order.tradeStatus ? 'success' : 'warning'\" size=\"small\">\r\n                {{ order.tradeStatus ? '已支付' : '未支付' }}\r\n              </el-tag>\r\n              <el-tag :type=\"order.refundStatus ? 'danger' : 'info'\" size=\"small\" style=\"margin-top: 5px;\">\r\n                {{ order.refundStatus ? '已退款' : '未退款' }}\r\n              </el-tag>\r\n            </div>\r\n            \r\n            <div class=\"order-actions\">\r\n              <el-button class=\"customer\" size=\"mini\" @click=\"handleEdit(order)\">详情</el-button>\r\n              <el-button  class=\"customer\" size=\"mini\" type=\"danger\" @click=\"handleDelete(order)\">删除</el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- 分页 -->\r\n        <div class=\"pagination-container\">\r\n          <el-pagination @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\" \r\n                        :current-page=\"currentPage\" \r\n                        :page-sizes=\"[10, 20]\" \r\n                        :page-size=\"pageSize\" \r\n                        layout=\"total, sizes, prev, pager, next, jumper\"\r\n                        :total=\"totalItems\">\r\n          </el-pagination>\r\n        </div>\r\n      </el-card>\r\n  \r\n      <!-- 订单详情抽屉 -->\r\n      <el-drawer title=\"订单详情\" \r\n                 :visible.sync=\"drawerProductOperaion\" \r\n                 :direction=\"direction\"\r\n                 size=\"40%\">\r\n        <div class=\"drawer-content\">\r\n          <el-card shadow=\"never\">\r\n            <div slot=\"header\">\r\n              <span>产品信息</span>\r\n            </div>\r\n            <div class=\"product-images\">\r\n              <el-image v-for=\"(cover, index) in coverList\" \r\n                        :key=\"index\" \r\n                        :src=\"cover\" \r\n                        :preview-src-list=\"coverList\"\r\n                        fit=\"cover\"\r\n                        class=\"detail-image\">\r\n              </el-image>\r\n            </div>\r\n          </el-card>\r\n          \r\n          <el-card shadow=\"never\" style=\"margin-top: 20px;\">\r\n            <div slot=\"header\">\r\n              <span>订单状态</span>\r\n            </div>\r\n            <div class=\"status-item\">\r\n              <div class=\"status-label\">支付状态:</div>\r\n              <div class=\"status-value\">\r\n                <i :class=\"data.tradeStatus ? 'el-icon-success' : 'el-icon-warning'\" \r\n                   :style=\"{color: data.tradeStatus ? '#67C23A' : '#E6A23C'}\"></i>\r\n                <span>{{ data.tradeStatus ? '已支付' : '未支付' }}</span>\r\n                <span v-if=\"data.tradeStatus\" class=\"status-time\">支付时间: {{ data.tradeTime }}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"status-item\">\r\n              <div class=\"status-label\">退款状态:</div>\r\n              <div class=\"status-value\">\r\n                <i :class=\"data.refundStatus ? 'el-icon-success' : 'el-icon-warning'\" \r\n                   :style=\"{color: data.refundStatus ? '#67C23A' : '#E6A23C'}\"></i>\r\n                <span>{{ data.refundStatus ? '已申请退款' : '未申请退款' }}</span>\r\n                <span v-if=\"data.refundStatus\" class=\"status-time\">退款时间: {{ data.refundTime }}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"status-item\">\r\n              <div class=\"status-label\">退款审核:</div>\r\n              <div class=\"status-value\">\r\n                <i :class=\"data.isRefundConfirm ? 'el-icon-success' : 'el-icon-warning'\" \r\n                   :style=\"{color: data.isRefundConfirm ? '#67C23A' : '#E6A23C'}\"></i>\r\n                <span>{{ data.isRefundConfirm ? '已审核' : '未审核' }}</span>\r\n              </div>\r\n            </div>\r\n          </el-card>\r\n        </div>\r\n      </el-drawer>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        data: {},\r\n        currentPage: 1,\r\n        coverList: [],\r\n        searchTime: [],\r\n        pageSize: 10,\r\n        totalItems: 0,\r\n        drawerProductOperaion: false,\r\n        tableData: [],\r\n        delectedRows: [],\r\n        ordersQueryDto: {},\r\n        direction: 'rtl',\r\n        tradeSelectedItem: {},\r\n        refundSelectedItem: {},\r\n        refundStatus: [\r\n          { refundStatus: null, name: '全部' }, \r\n          { refundStatus: true, name: '已退款' }, \r\n          { refundStatus: false, name: '未退款' }\r\n        ],\r\n        tradeStatus: [\r\n          { tradeStatus: null, name: '全部' }, \r\n          { tradeStatus: true, name: '已下单' }, \r\n          { tradeStatus: false, name: '未下单' }\r\n        ]\r\n      };\r\n    },\r\n    created() {\r\n      this.fetchFreshData();\r\n      this.tradeSelected(this.tradeStatus[0]);\r\n    },\r\n    methods: {\r\n      tradeSelected(trade) {\r\n        this.tradeSelectedItem = trade;\r\n        this.ordersQueryDto.tradeStatus = trade.tradeStatus;\r\n        this.fetchFreshData();\r\n      },\r\n      refundSelected(refund) {\r\n        this.refundSelectedItem = refund;\r\n        this.ordersQueryDto.refundStatus = refund.refundStatus;\r\n        this.fetchFreshData(); \r\n      },\r\n      cannel() {\r\n        this.data = {};\r\n        this.drawerProductOperaion = false;\r\n      },\r\n      async batchDelete() {\r\n        if (!this.delectedRows.length) {\r\n          this.$message(`未选中任何数据`);\r\n          return;\r\n        }\r\n        const confirmed = await this.$swalConfirm({\r\n          title: '删除订单数据',\r\n          text: `删除后不可恢复，是否继续？`,\r\n          icon: 'warning',\r\n        });\r\n        if (confirmed) {\r\n          try {\r\n            let ids = this.delectedRows.map(entity => entity.id);\r\n            const response = await this.$axios.post(`/orders/batchDelete`, ids);\r\n            if (response.data.code === 200) {\r\n              this.$notify({\r\n                duration: 1000,\r\n                title: '信息删除',\r\n                message: '删除成功',\r\n                type: 'success'\r\n              });\r\n              this.fetchFreshData();\r\n              return;\r\n            }\r\n          } catch (error) {\r\n            this.$message.error(\"订单信息删除异常：\", error);\r\n            console.error(`订单信息删除异常：`, error);\r\n          }\r\n        }\r\n      },\r\n      async fetchFreshData() {\r\n        let startTime = null;\r\n        let endTime = null;\r\n        if (this.searchTime != null && this.searchTime.length === 2) {\r\n          const [startDate, endDate] = await Promise.all(this.searchTime.map(date => date.toISOString()));\r\n          startTime = `${startDate.split('T')[0]}T00:00:00`;\r\n          endTime = `${endDate.split('T')[0]}T23:59:59`;\r\n        }\r\n        this.ordersQueryDto.current = this.currentPage;\r\n        this.ordersQueryDto.size = this.pageSize;\r\n        this.ordersQueryDto.startTime = startTime;\r\n        this.ordersQueryDto.endTime = endTime;\r\n        this.$axios.post('/orders/query', this.ordersQueryDto).then(res => {\r\n          const { data } = res;\r\n          if (data.code === 200) {\r\n            this.tableData = data.data;\r\n            this.totalItems = data.total;\r\n          }\r\n        }).catch(error => {\r\n          this.$notify.error({\r\n            title: '查询操作',\r\n            message: error\r\n          });\r\n        })\r\n      },\r\n      handleFilter() {\r\n        this.currentPage = 1;\r\n        this.fetchFreshData();\r\n      },\r\n      handleFilterClear() {\r\n        this.handleFilter();\r\n      },\r\n      handleSizeChange(val) {\r\n        this.pageSize = val;\r\n        this.currentPage = 1;\r\n        this.fetchFreshData();\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.currentPage = val;\r\n        this.fetchFreshData();\r\n      },\r\n      handleEdit(row) {\r\n        this.data = row;\r\n        this.coverList = row.productCover ? row.productCover.split(',') : [];\r\n        this.drawerProductOperaion = true;\r\n      },\r\n      handleDelete(row) {\r\n        this.delectedRows.push(row);\r\n        this.batchDelete();\r\n      }\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped lang=\"scss\">\r\n  .card-container {\r\n    padding: 20px 0 ;\r\n  }\r\n  \r\n  .filter-card {\r\n    margin-bottom: 20px;\r\n    border-radius: 8px;\r\n    \r\n    .filter-content {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 15px;\r\n    }\r\n    \r\n    .filter-tabs {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      gap: 10px;\r\n      margin-bottom: 10px;\r\n    }\r\n    \r\n    .filter-controls {\r\n      display: flex;\r\n      gap: 10px;\r\n      \r\n      .filter-item {\r\n        flex: 1;\r\n        min-width: 200px;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .order-card {\r\n    border-radius: 8px;\r\n    \r\n    .order-item {\r\n      padding: 20px;\r\n      border-bottom: 1px solid #ebeef5;\r\n      \r\n      &:last-child {\r\n        border-bottom: none;\r\n      }\r\n      \r\n      .order-header {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-bottom: 15px;\r\n        padding-bottom: 10px;\r\n        border-bottom: 1px dashed #ebeef5;\r\n        \r\n        .order-code {\r\n          font-weight: 500;\r\n          color: #303133;\r\n        }\r\n        \r\n        .order-time {\r\n          font-size: 12px;\r\n          color: #909399;\r\n        }\r\n      }\r\n      \r\n      .order-content {\r\n        display: flex;\r\n        gap: 20px;\r\n        \r\n        .order-user {\r\n          flex: 0 0 100px;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          \r\n          .user-name {\r\n            margin-top: 5px;\r\n            font-size: 13px;\r\n          }\r\n        }\r\n        \r\n        .order-product {\r\n          flex: 1;\r\n          display: flex;\r\n          gap: 15px;\r\n          \r\n          .product-image {\r\n            width: 80px;\r\n            height: 80px;\r\n            border-radius: 4px;\r\n          }\r\n          \r\n          .product-info {\r\n            flex: 1;\r\n            \r\n            .product-title {\r\n              margin: 0 0 8px 0;\r\n              font-size: 15px;\r\n              color: #303133;\r\n            }\r\n            \r\n            .product-meta {\r\n              margin-bottom: 8px;\r\n              font-size: 13px;\r\n              \r\n              .price {\r\n                margin-right: 15px;\r\n                color: #f56c6c;\r\n                font-weight: 500;\r\n              }\r\n            }\r\n            \r\n            .product-remark {\r\n              font-size: 13px;\r\n              color: #909399;\r\n            }\r\n          }\r\n        }\r\n        \r\n        .order-status {\r\n          flex: 0 0 80px;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n        }\r\n        \r\n        .order-actions {\r\n          flex: 0 0 120px;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: flex-end;\r\n          justify-content: center;\r\n          gap: 8px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  .pagination-container {\r\n    padding: 20px 0;\r\n    text-align: center;\r\n  }\r\n  \r\n  .drawer-content {\r\n    padding: 20px;\r\n    \r\n    .product-images {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      gap: 10px;\r\n      \r\n      .detail-image {\r\n        width: 100px;\r\n        height: 100px;\r\n        border-radius: 4px;\r\n      }\r\n    }\r\n    \r\n    .status-item {\r\n      display: flex;\r\n      margin-bottom: 15px;\r\n      \r\n      .status-label {\r\n        width: 100px;\r\n        font-weight: 500;\r\n        color: #606266;\r\n      }\r\n      \r\n      .status-value {\r\n        flex: 1;\r\n        \r\n        i {\r\n          margin-right: 8px;\r\n        }\r\n        \r\n        .status-time {\r\n          margin-left: 15px;\r\n          font-size: 13px;\r\n          color: #909399;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  </style>"]}]}