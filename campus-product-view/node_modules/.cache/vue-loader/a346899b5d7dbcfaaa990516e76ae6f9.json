{"remainingRequest":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macos/Downloads/campus-system/source code/campus-product-view/src/views/user/Address.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/src/views/user/Address.vue","mtime":1758037359504},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/cache-loader/dist/cjs.js","mtime":1767024828976},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/babel-loader/lib/index.js","mtime":1767024830795},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/cache-loader/dist/cjs.js","mtime":1767024828976},{"path":"/Users/macos/Downloads/campus-system/source code/campus-product-view/node_modules/vue-loader/lib/index.js","mtime":1767024826361}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiB7DQogICAgICAgICAgICAgICAgdXNlcklkOiBudWxsLA0KICAgICAgICAgICAgICAgIGlzRGVmYXVsdDogbnVsbCwNCiAgICAgICAgICAgICAgICBjdXJyZW50OiAxLA0KICAgICAgICAgICAgICAgIHNpemU6IDEwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgYWRkcmVzc0xpc3Q6IFtdLA0KICAgICAgICAgICAgdG90YWw6IDAsDQogICAgICAgICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgICAgICAgIGRpYWxvZ1RpdGxlOiAn5paw5aKe5Zyw5Z2AJywNCiAgICAgICAgICAgIGFkZHJlc3NGb3JtOiB7DQogICAgICAgICAgICAgICAgaWQ6IG51bGwsDQogICAgICAgICAgICAgICAgdXNlcklkOiBudWxsLA0KICAgICAgICAgICAgICAgIGNvbmNhdFBlcnNvbjogJycsDQogICAgICAgICAgICAgICAgY29uY2F0UGhvbmU6ICcnLA0KICAgICAgICAgICAgICAgIGdldEFkcjogJycsDQogICAgICAgICAgICAgICAgaXNEZWZhdWx0OiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHJ1bGVzOiB7DQogICAgICAgICAgICAgICAgdXNlcklkOiBbDQogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLdJRCcsIHRyaWdnZXI6ICdibHVyJyB9LA0KICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICdudW1iZXInLCBtZXNzYWdlOiAn55So5oi3SUTlv4XpobvkuLrmlbDlrZcnLCB0cmlnZ2VyOiAnYmx1cicsIHRyYW5zZm9ybTogdmFsdWUgPT4gTnVtYmVyKHZhbHVlKSB9DQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICBjb25jYXRQZXJzb246IFsNCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeaUtuS7tuS6uuWnk+WQjScsIHRyaWdnZXI6ICdibHVyJyB9LA0KICAgICAgICAgICAgICAgICAgICB7IG1pbjogMiwgbWF4OiAyMCwgbWVzc2FnZTogJ+mVv+W6puWcqCAyIOWIsCAyMCDkuKrlrZfnrKYnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgY29uY2F0UGhvbmU6IFsNCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeiBlOezu+eUteivnScsIHRyaWdnZXI6ICdibHVyJyB9LA0KICAgICAgICAgICAgICAgICAgICB7IHBhdHRlcm46IC9eMVszLTldXGR7OX0kLywgbWVzc2FnZTogJ+ivt+i+k+WFpeato+ehrueahOaJi+acuuWPt+eggScsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICBnZXRBZHI6IFsNCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeaUtui0p+WcsOWdgCcsIHRyaWdnZXI6ICdibHVyJyB9LA0KICAgICAgICAgICAgICAgICAgICB7IG1pbjogNSwgbWF4OiAxMDAsIG1lc3NhZ2U6ICfplb/luqblnKggNSDliLAgMTAwIOS4quWtl+espicsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLmZldGNoQWRkcmVzc0xpc3QoKQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICAvLyDojrflj5blnLDlnYDliJfooagNCiAgICAgICAgZmV0Y2hBZGRyZXNzTGlzdCgpIHsNCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9hZGRyZXNzL3F1ZXJ5VXNlcicsIHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHJlcw0KICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZHJlc3NMaXN0ID0gZGF0YS5kYXRhDQogICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSBkYXRhLnRvdGFsIHx8IDANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvLyDmkJzntKINCiAgICAgICAgaGFuZGxlU2VhcmNoKCkgew0KICAgICAgICAgICAgdGhpcy5xdWVyeVBhcmFtcy5jdXJyZW50ID0gMQ0KICAgICAgICAgICAgdGhpcy5mZXRjaEFkZHJlc3NMaXN0KCkNCiAgICAgICAgfSwNCiAgICAgICAgLy8g6YeN572u5pCc57SiDQogICAgICAgIHJlc2V0U2VhcmNoKCkgew0KICAgICAgICAgICAgdGhpcy5xdWVyeVBhcmFtcyA9IHsNCiAgICAgICAgICAgICAgICB1c2VySWQ6IG51bGwsDQogICAgICAgICAgICAgICAgaXNEZWZhdWx0OiBudWxsLA0KICAgICAgICAgICAgICAgIGN1cnJlbnQ6IDEsDQogICAgICAgICAgICAgICAgc2l6ZTogMTANCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZmV0Y2hBZGRyZXNzTGlzdCgpDQogICAgICAgIH0sDQogICAgICAgIC8vIOWIhumhteWkp+Wwj+WPmOWMlg0KICAgICAgICBoYW5kbGVTaXplQ2hhbmdlKHNpemUpIHsNCiAgICAgICAgICAgIHRoaXMucXVlcnlQYXJhbXMuc2l6ZSA9IHNpemUNCiAgICAgICAgICAgIHRoaXMuZmV0Y2hBZGRyZXNzTGlzdCgpDQogICAgICAgIH0sDQogICAgICAgIC8vIOW9k+WJjemhteWPmOWMlg0KICAgICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKGN1cnJlbnQpIHsNCiAgICAgICAgICAgIHRoaXMucXVlcnlQYXJhbXMuY3VycmVudCA9IGN1cnJlbnQNCiAgICAgICAgICAgIHRoaXMuZmV0Y2hBZGRyZXNzTGlzdCgpDQogICAgICAgIH0sDQogICAgICAgIC8vIOaYvuekuuaWsOWinuWvueivneahhg0KICAgICAgICBzaG93QWRkRGlhbG9nKCkgew0KICAgICAgICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICfmlrDlop7lnLDlnYAnDQogICAgICAgICAgICB0aGlzLmFkZHJlc3NGb3JtID0gew0KICAgICAgICAgICAgICAgIGlkOiBudWxsLA0KICAgICAgICAgICAgICAgIHVzZXJJZDogbnVsbCwNCiAgICAgICAgICAgICAgICBjb25jYXRQZXJzb246ICcnLA0KICAgICAgICAgICAgICAgIGNvbmNhdFBob25lOiAnJywNCiAgICAgICAgICAgICAgICBnZXRBZHI6ICcnLA0KICAgICAgICAgICAgICAgIGlzRGVmYXVsdDogZmFsc2UNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy4kcmVmcy5hZGRyZXNzRm9ybSkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFkZHJlc3NGb3JtLmNsZWFyVmFsaWRhdGUoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvLyDmmL7npLrnvJbovpHlr7nor53moYYNCiAgICAgICAgaGFuZGxlRWRpdChyb3cpIHsNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn57yW6L6R5Zyw5Z2AJw0KICAgICAgICAgICAgdGhpcy5hZGRyZXNzRm9ybSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocm93KSkNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy4kcmVmcy5hZGRyZXNzRm9ybSkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFkZHJlc3NGb3JtLmNsZWFyVmFsaWRhdGUoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvLyDmj5DkuqTooajljZUNCiAgICAgICAgc3VibWl0Rm9ybSgpIHsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuYWRkcmVzc0Zvcm0udmFsaWRhdGUodmFsaWQgPT4gew0KICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hZGRyZXNzRm9ybS5pZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pu05pawDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRheGlvcy5wdXQoJy9hZGRyZXNzL3VwZGF0ZScsIHRoaXMuYWRkcmVzc0Zvcm0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc3BvbnNlKHJlcywgJ+abtOaWsOaIkOWKnycpDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g5paw5aKeDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvYWRkcmVzcy9zYXZlJywgdGhpcy5hZGRyZXNzRm9ybSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzcG9uc2UocmVzLCAn5paw5aKe5oiQ5YqfJykNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvLyDlpITnkIblk43lupQNCiAgICAgICAgaGFuZGxlUmVzcG9uc2UocmVzLCBtc2cpIHsNCiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzDQogICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MobXNnKQ0KICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5mZXRjaEFkZHJlc3NMaXN0KCkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZyB8fCAn5pON5L2c5aSx6LSlJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy8g5Yig6Zmk5Zyw5Z2ADQogICAgICAgIGhhbmRsZURlbGV0ZShpZCkgew0KICAgICAgICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5Yig6Zmk6K+l5Zyw5Z2A5ZCXPycsICfmj5DnpLonLCB7DQogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2FkZHJlc3MvYmF0Y2hEZWxldGUnLCBbaWRdKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzDQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaEFkZHJlc3NMaXN0KCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7IH0pDQogICAgICAgIH0sDQogICAgICAgIC8vIOiuvuS4uum7mOiupOWcsOWdgA0KICAgICAgICBzZXREZWZhdWx0KGlkKSB7DQogICAgICAgICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTorr7kuLrpu5jorqTlnLDlnYDlkJc/JywgJ+aPkOekuicsIHsNCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgICAgICAgICAgICAgIGlkOiBpZCwNCg0KICAgICAgICAgICAgICAgICAgICBpc0RlZmF1bHQ6IHRydWUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy4kYXhpb3MucHV0KCcvYWRkcmVzcy9pc0RlZmF1bHQnLCBwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXMNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+iuvue9ruaIkOWKnycpDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoQWRkcmVzc0xpc3QoKQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKGRhdGEubXNnKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsgfSkNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["Address.vue"],"names":[],"mappings":";AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Address.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n    <div class=\"address-container\">\r\n        <!-- 搜索区域 -->\r\n        <el-card class=\"search-card\">\r\n            <el-form :inline=\"true\" :model=\"queryParams\" class=\"search-form\">\r\n                <el-form-item label=\"默认地址\">\r\n                    <el-select v-model=\"queryParams.isDefault\" placeholder=\"请选择\" clearable>\r\n                        <el-option label=\"是\" :value=\"true\"></el-option>\r\n                        <el-option label=\"否\" :value=\"false\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"handleSearch\">查询</el-button>\r\n                    <el-button @click=\"resetSearch\">重置</el-button>\r\n                    <el-button type=\"success\" @click=\"showAddDialog\">新增地址</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-card>\r\n\r\n        <!-- 地址列表 -->\r\n        <el-card class=\"table-card\">\r\n            <el-table :data=\"addressList\" border style=\"width: 100%\">\r\n                <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\r\n                <el-table-column prop=\"userId\" label=\"用户ID\" width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"concatPerson\" label=\"收件人\" width=\"120\"></el-table-column>\r\n                <el-table-column prop=\"concatPhone\" label=\"联系电话\" width=\"150\"></el-table-column>\r\n                <el-table-column prop=\"getAdr\" label=\"收货地址\"></el-table-column>\r\n                <el-table-column label=\"默认地址\" width=\"120\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-tag :type=\"scope.row.isDefault ? 'success' : 'info'\">\r\n                            {{ scope.row.isDefault ? '是' : '否' }}\r\n                        </el-tag>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" width=\"280\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n                        <el-button size=\"mini\" type=\"primary\" @click=\"setDefault(scope.row.id)\"\r\n                            :disabled=\"scope.row.isDefault\">\r\n                            设为默认\r\n                        </el-button>\r\n                        <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.row.id)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n\r\n            <!-- 分页 -->\r\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n                :current-page=\"queryParams.current\" :page-sizes=\"[10, 20, 30]\" :page-size=\"queryParams.size\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\" class=\"pagination\"></el-pagination>\r\n        </el-card>\r\n\r\n        <!-- 新增/编辑对话框 -->\r\n        <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" width=\"50%\">\r\n            <el-form :model=\"addressForm\" :rules=\"rules\" ref=\"addressForm\" label-width=\"100px\">\r\n                <el-form-item label=\"收件人\" prop=\"concatPerson\">\r\n                    <el-input v-model=\"addressForm.concatPerson\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"联系电话\" prop=\"concatPhone\">\r\n                    <el-input v-model=\"addressForm.concatPhone\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"收货地址\" prop=\"getAdr\">\r\n                    <el-input type=\"textarea\" v-model=\"addressForm.getAdr\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"默认地址\">\r\n                    <el-switch v-model=\"addressForm.isDefault\"></el-switch>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm\">确定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            queryParams: {\r\n                userId: null,\r\n                isDefault: null,\r\n                current: 1,\r\n                size: 10\r\n            },\r\n            addressList: [],\r\n            total: 0,\r\n            dialogVisible: false,\r\n            dialogTitle: '新增地址',\r\n            addressForm: {\r\n                id: null,\r\n                userId: null,\r\n                concatPerson: '',\r\n                concatPhone: '',\r\n                getAdr: '',\r\n                isDefault: false\r\n            },\r\n            rules: {\r\n                userId: [\r\n                    { required: true, message: '请输入用户ID', trigger: 'blur' },\r\n                    { type: 'number', message: '用户ID必须为数字', trigger: 'blur', transform: value => Number(value) }\r\n                ],\r\n                concatPerson: [\r\n                    { required: true, message: '请输入收件人姓名', trigger: 'blur' },\r\n                    { min: 2, max: 20, message: '长度在 2 到 20 个字符', trigger: 'blur' }\r\n                ],\r\n                concatPhone: [\r\n                    { required: true, message: '请输入联系电话', trigger: 'blur' },\r\n                    { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号码', trigger: 'blur' }\r\n                ],\r\n                getAdr: [\r\n                    { required: true, message: '请输入收货地址', trigger: 'blur' },\r\n                    { min: 5, max: 100, message: '长度在 5 到 100 个字符', trigger: 'blur' }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchAddressList()\r\n    },\r\n    methods: {\r\n        // 获取地址列表\r\n        fetchAddressList() {\r\n            this.$axios.post('/address/queryUser', this.queryParams).then(res => {\r\n                const { data } = res\r\n                if (data.code === 200) {\r\n                    this.addressList = data.data\r\n                    this.total = data.total || 0\r\n                }\r\n            })\r\n        },\r\n        // 搜索\r\n        handleSearch() {\r\n            this.queryParams.current = 1\r\n            this.fetchAddressList()\r\n        },\r\n        // 重置搜索\r\n        resetSearch() {\r\n            this.queryParams = {\r\n                userId: null,\r\n                isDefault: null,\r\n                current: 1,\r\n                size: 10\r\n            }\r\n            this.fetchAddressList()\r\n        },\r\n        // 分页大小变化\r\n        handleSizeChange(size) {\r\n            this.queryParams.size = size\r\n            this.fetchAddressList()\r\n        },\r\n        // 当前页变化\r\n        handleCurrentChange(current) {\r\n            this.queryParams.current = current\r\n            this.fetchAddressList()\r\n        },\r\n        // 显示新增对话框\r\n        showAddDialog() {\r\n            this.dialogTitle = '新增地址'\r\n            this.addressForm = {\r\n                id: null,\r\n                userId: null,\r\n                concatPerson: '',\r\n                concatPhone: '',\r\n                getAdr: '',\r\n                isDefault: false\r\n            }\r\n            this.dialogVisible = true\r\n            this.$nextTick(() => {\r\n                if (this.$refs.addressForm) {\r\n                    this.$refs.addressForm.clearValidate();\r\n                }\r\n            })\r\n        },\r\n        // 显示编辑对话框\r\n        handleEdit(row) {\r\n            this.dialogTitle = '编辑地址'\r\n            this.addressForm = JSON.parse(JSON.stringify(row))\r\n            this.dialogVisible = true\r\n            this.$nextTick(() => {\r\n                if (this.$refs.addressForm) {\r\n                    this.$refs.addressForm.clearValidate();\r\n                }\r\n            })\r\n        },\r\n        // 提交表单\r\n        submitForm() {\r\n            this.$refs.addressForm.validate(valid => {\r\n                if (valid) {\r\n                    if (this.addressForm.id) {\r\n                        // 更新\r\n                        this.$axios.put('/address/update', this.addressForm).then(res => {\r\n                            this.handleResponse(res, '更新成功')\r\n                        })\r\n                    } else {\r\n                        // 新增\r\n                        this.$axios.post('/address/save', this.addressForm).then(res => {\r\n                            this.handleResponse(res, '新增成功')\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        // 处理响应\r\n        handleResponse(res, msg) {\r\n            const { data } = res\r\n            if (data.code === 200) {\r\n                this.$message.success(msg)\r\n                this.dialogVisible = false\r\n                this.fetchAddressList()\r\n            } else {\r\n                this.$message.error(data.msg || '操作失败')\r\n            }\r\n        },\r\n        // 删除地址\r\n        handleDelete(id) {\r\n            this.$confirm('确认删除该地址吗?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                this.$axios.post('/address/batchDelete', [id]).then(res => {\r\n                    const { data } = res\r\n                    if (data.code === 200) {\r\n                        this.$message.success('删除成功')\r\n                        this.fetchAddressList()\r\n                    }\r\n                })\r\n            }).catch(() => { })\r\n        },\r\n        // 设为默认地址\r\n        setDefault(id) {\r\n            this.$confirm('确认设为默认地址吗?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                const params = {\r\n                    id: id,\r\n\r\n                    isDefault: true\r\n                }\r\n                this.$axios.put('/address/isDefault', params).then(res => {\r\n                    const { data } = res\r\n                    if (data.code === 200) {\r\n                        this.$message.success('设置成功')\r\n                        this.fetchAddressList()\r\n                    } else {\r\n                        this.$message.info(data.msg)\r\n                    }\r\n                })\r\n            }).catch(() => { })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.address-container {\r\n    padding: 20px;\r\n}\r\n\r\n.search-card {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.search-form {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.table-card {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.pagination {\r\n    margin-top: 20px;\r\n    text-align: right;\r\n}\r\n</style>"]}]}